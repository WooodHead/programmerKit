TNa.prototype.Rt=LO(35,g("C"));Yy.prototype.Rt=LO(34,function(){return W(this,2)});function S_d(a){a.O=!0;return a}function x3(a){Wf(this,a,0,-1,null,null)}x(x3,Vf);x3.prototype.Rt=function(){return F(this,1)};x3.prototype.nY=function(){return F(this,2)};function T_d(){try{return!!ma.localStorage.getItem("docs-uoo")}catch(a){return!0}}function U_d(a){a?ma.localStorage.setItem("docs-wownoi","true"):ma.localStorage.removeItem("docs-wownoi")}
function V_d(a){a?ma.localStorage.setItem("docs-rops","true"):ma.localStorage.removeItem("docs-rops")}function W_d(a){a?ma.localStorage.setItem("docs-ropd","true"):ma.localStorage.removeItem("docs-ropd")}function X_d(a){Wf(this,a,0,-1,null,null)}x(X_d,Vf);X_d.prototype.I6=function(){return F(this,1)};X_d.prototype.nY=function(){return F(this,2)};
function Y_d(){return Q('<div><div>Turn on offline to access files without an Internet connection.</div><div class="docs-offline-optindialog-short-disclaimer">Not recommended on public or shared computers. <a href="#" id="docs-offline-optindialog-disclaimer-link" tabindex="0" class="docs-offline-optindialog-disclaimer-link">Learn more</a></div><div id="docs-offline-optindialog-disclaimer" class="docs-offline-optindialog-disclaimer" style="display:none;" tabindex="0">Protect your files by enabling offline access only on personal computers or computers where you have a password protected account. Enabling offline access on public or shared computers can put your data at risk, since others may be able to view your synced Google documents, spreadsheets and presentations.</div></div>')};function Z_d(a){Vs.call(this);this.O=a;Up(this,"Turn on offline for all files?");a=new bq;gq(a,{key:"docs-offline-editor-enable-offline-dialog-cancel",caption:"Cancel"},!1,!0);gq(a,{key:"docs-offline-editor-enable-offline-dialog-turnon",caption:"Turn on"},!0,!1);eq(this,a);dq(this,!1);this.Hi=this.Yr=!0;a=new DR;Vp(this,tq(QBc(a,Y_d)));this.C=this.F=null}x(Z_d,Vs);
Z_d.prototype.Ja=function(){Z_d.oa.Ja.call(this);pq(this,this.D.pv);this.F=He(this.va(),"docs-offline-optindialog-disclaimer-link");this.C=He(this.va(),"docs-offline-optindialog-disclaimer");this.getHandler().V(this,"dialogselect",this.J).Uc(this.F,"click",this.L)};Z_d.prototype.J=function(a){"docs-offline-editor-enable-offline-dialog-turnon"==a.key&&this.O();this.setVisible(!1)};Z_d.prototype.L=function(){L(this.F,"docs-offline-optindialog-disclaimer-link-disabled");M(this.C,!0);this.C.focus()};function $_d(a,b,c){E.call(this);this.D=a;this.Aa=b;this.L=c;this.O=new Gp(this.L,bBa(),this);this.F=zf();this.H=this.C=null;this.J=!1}x($_d,E);$_d.prototype.start=function(){var a=this;a0d(this,"Initialization").then(function(){a.J=!0;a.F.resolve(null);a.O.V(gya,a.ma).V(Uxa,a.qa).V(Yxa,a.R)},function(b){a.F.resolve(af(b))})};function b0d(a){return a.F.C.then(function(a){if(null!=a)throw a;})}
$_d.prototype.ma=function(a){a=dg(a,eya,1);for(var b=0;b<a.length;b++){var c=a[b].Nz(kya);if(c&&F(c,1)==this.D){a0d(this,"Document data changed");break}}};$_d.prototype.qa=function(a){F(a,1)==this.D&&a0d(this,"Document available")};$_d.prototype.R=function(){a0d(this,"Offline disabled")};
function a0d(a,b){return Bf(c0d(a.Aa,[a.D]).then(function(b){var c=!1,e=!1;1==b.length&&(e=b[0],c=F(e,7),e=F(e,8));var f=b=!1;a.J&&(b=a.C!=c,f=a.H!=e);a.C=c;a.H=e;b&&a.dispatchEvent("Cf");f&&a.dispatchEvent("Df")}),function(a){throw bf(a,{pinStatusUpdateReason:b});})};function d0d(){E.call(this);this.C=3;this.D=null;this.H=!1;this.F=zf()}x(d0d,E);function e0d(a){return a.F.C.then(function(a){if(null!=a)throw a;})}d0d.prototype.OB=g("D");function f0d(a,b,c){if((1==b||2==b)&&!c)throw Error("Eligibility must be provided when transitioning to ENABLED or DISABLED. New state: "+b);c&&(a.D=c);a.C=b;a.F.resolve(null);a.dispatchEvent("Ef")}function g0d(a){if(!a.D)return!1;a=a.D.Rt();return 1==a||6==a}d0d.prototype.I6=g("C");function y3(a){Wf(this,a,0,-1,null,null)}x(y3,Vf);y3.prototype.getType=function(){return F(this,1)};y3.prototype.setType=function(a){G(this,1,a)};function h0d(a){Wf(this,a,0,-1,null,null)}x(h0d,Vf);h0d.prototype.getType=function(){return F(this,1)};h0d.prototype.setType=function(a){G(this,1,a)};h0d.prototype.oK=function(){return cg(this,i0d,2)};function i0d(a){Wf(this,a,0,-1,null,null)}x(i0d,Vf);i0d.prototype.getType=function(){return F(this,1)};i0d.prototype.setType=function(a){G(this,1,a)};
i0d.prototype.getErrorMessage=function(){return F(this,2)};function j0d(a){Wf(this,a,0,-1,k0d,null)}x(j0d,Vf);var k0d=[1];function l0d(a){Wf(this,a,0,-1,m0d,null)}x(l0d,Vf);var m0d=[1];function n0d(a){Wf(this,a,0,-1,null,null)}x(n0d,Vf);n0d.prototype.H=function(){return cg(this,X_d,1)};function o0d(a){Wf(this,a,0,-1,null,null)}x(o0d,Vf);o0d.prototype.OB=function(){return cg(this,x3,1)};function p0d(a){Wf(this,a,0,-1,null,null)}x(p0d,Vf);function q0d(a){Wf(this,a,0,-1,null,null)}x(q0d,Vf);
q0d.prototype.OB=function(){return cg(this,x3,1)};function r0d(a){Wf(this,a,0,-1,null,null)}x(r0d,Vf);r0d.prototype.getId=function(){return F(this,1)};r0d.prototype.vf=function(a){G(this,1,a)};r0d.prototype.getTitle=function(){return F(this,2)};r0d.prototype.fq=function(){return F(this,3)};function s0d(a){Wf(this,a,0,-1,t0d,null)}x(s0d,Vf);var t0d=[1];function u0d(a){Wf(this,a,0,-1,null,null)}x(u0d,Vf);u0d.prototype.getId=function(){return F(this,1)};u0d.prototype.vf=function(a){G(this,1,a)};
u0d.prototype.getType=function(){return F(this,2)};u0d.prototype.setType=function(a){G(this,2,a)};function v0d(a,b,c,d,e,f,h,k,l){A.call(this);this.Ea=a;this.Ga=b;this.Na=c;this.H=d;this.D=e;this.pb=k;this.Aa=new ip;this.Ma=new Uh(this);this.Ba(this.Ma);this.La=a.C;this.ma=f;this.Oa=h;this.J=this.C=null;this.F=l;this.O=Ot(this.F,"Document now available offline",void 0,!1,3E3,!1,void 0,!0);this.qa=Ot(this.F,"Document no longer available offline",void 0,!1,3E3,!1,void 0,!0);this.R=Ot(this.F,"Could not make the document available offline.",void 0,!1,3E3,!1,void 0,!0);this.L=Ot(this.F,"Could not enable offline access.",
void 0,!1,3E3,!1,void 0,!0)}x(v0d,A);p=v0d.prototype;p.init=function(){var a=this;yf([e0d(this.D),b0d(this.H)]).then(function(){K.mw.subscribe("action",a.hIa,a);a.Ma.V(a.H,"Cf",a.lyb).V(a.H,"Df",a.Hwb).V(a.D,"Ef",a.Jwb);w0d(a);K.mw.setVisible(Qf)},function(b){a.pb.bd(af(b))})};p.hIa=function(){x0d(this)};
function x0d(a){return fxa(a.Aa).then(function(){if(cp()){if(1==a.D.C)return y0d(a);g0d(a.D)?z0d(a):A0d(a,a.L)}else{a.J&&a.J.setVisible(!1);var b=gq(gq(new bq,{key:"ok",caption:"Install"},!0),jq,!1,!0),c=a.ma,d=cBc("Extension needed","To make this document available offline, install the Docs Offline Chrome extension to your browser.",a.w8a,null,a,void 0,b,void 0);c.Jh(d);d.focus();a.J=d;pq(a.J,b.pv)}})}
p.w8a=function(){var a=this;this.Aa.install().then(function(){return x0d(a)},function(b){b=af(b);a.pb.bd(b);Iwa(b)})};function y0d(a){var b=!K.mw.Nd();return Bf((new tf(function(b){var c=a.La;Wl(c.C,8192)?b():(gn(c.J,c.Ea,Ue(b)),c.create())})).then(function(){var c=new u0d;c.vf(a.Ea.xc());c.setType(a.Ga);return B0d(a.Na,[c],b)}),function(b){A0d(a,a.R);a.pb.log(af(b))})}function C0d(a){Bf(D0d(a.Oa),function(b){a.pb.log(af(b))}).then(function(){if(1==a.D.C)return y0d(a);A0d(a,a.L)})}
function z0d(a){a.C||(a.C=new Z_d(function(){return C0d(a)}),a.ma.Jh(a.C),a.Ma.V(a.C,"hide",function(){a.C=null}),a.C.setVisible(!0))}p.lyb=function(){w0d(this);E0d(this);this.H.C||A0d(this,this.qa)};p.Hwb=function(){E0d(this)};p.Jwb=function(){w0d(this)};function E0d(a){var b;if(b=1==a.D.C)b=a.H.H;b&&a.H.C&&A0d(a,a.O)}function A0d(a,b){b.Qb()||b.render();a.O.setVisible(!1);a.qa.setVisible(!1);a.R.setVisible(!1);a.L.setVisible(!1);b.setVisible(!0)}
function w0d(a){K.mw.Pa(1==a.D.C||g0d(a.D));K.mw.yc(a.H.C)}p.Ha=function(){K.mw.unsubscribe("action",this.hIa,this);this.C&&(dG(this.ma,this.C),C(this.C));this.J&&(dG(this.ma,this.J),C(this.J));v0d.oa.Ha.call(this);Or(this.F,this.O);Or(this.F,this.qa);Or(this.F,this.R);Or(this.F,this.L);Eb(this.O,this.qa,this.R,this.L)};function F0d(a,b){this.Q9=a;this.DN=b};function G0d(a,b,c,d,e){A.call(this);this.pb=a;this.H=b;this.O=d?d:"DefaultLocalStoreSessionId";this.L=e||new FAa;this.J=c;this.D=null;this.F=new en;this.Ba(this.F);this.C=H0d(this)}x(G0d,A);function H0d(a){a.C&&C(a.C);var b=Ah(H(),"lssv");return new KAa(a.pb,a.O,0,a.N5a.bind(a),b,!0,a.J,new xza)}function I0d(a){if(a.D)return a.D;a.D=J0d(a);return Bf(a.D,function(b){a.waa();throw b;})}
function K0d(a){return I0d(a).then(function(a){return(new tf(function(b,d){Jva(a.NQ(),b,d)})).then(function(b){return 1==b.length&&b[0].getId()==Bh(H(),"docs-offline-lsuid")?new F0d(a,b[0]):null}.bind(this))}.bind(a))}p=G0d.prototype;p.get=function(){return K0d(this).then(function(a){if(!a)throw Error("Must be exactly one user and they must be the current user");return a.Q9})};function J0d(a){return(new tf(function(a,c){Ff(this.C.create(this.waa.bind(this)),a,c)}.bind(a))).then(a.Aub.bind(a))}
p.Aub=function(a){var b=this;if(!a)throw Error("Got null localstore from the idb localstore factory.");if(this.H){var c=new mya(a,this.H);this.Ba(c)}rua(a);fn(this.F,a.C.C.H,function(){b.waa()});fn(this.F,a.C.O,function(){b.waa()});return a};p.waa=function(){C(this.C);this.C=H0d(this);this.D=null};p.N5a=function(a){return Tya(this.L,a)};p.Ha=function(){C(this.C);G0d.oa.Ha.call(this)};function L0d(a){this.D=a}L0d.prototype.C=function(a){var b=new oMc;qMc(b,a.serialize());this.D.log(b);this.D.H()};function M0d(a){this.D=a}M0d.prototype.C=function(a){var b=new oMc;qMc(b,a.serialize());this.D.log(b);return new tf(function(a,b){this.D.flush(a,b)}.bind(this))};function N0d(a){this.D=a}N0d.prototype.C=function(a,b,c){K0d(this.D).then(v(function(d){d?(new Acc(d.Q9,"offline",null)).C(a,b,c):b()},this))};function O0d(a,b,c){a='<div><div id="docs-offline-optinpromo-title">You\'re all set</div><div id="docs-offline-optinpromo-description">Your work will sync once you\'re online again. Then you\'ll be able to keep editing offline. Sweet.</div><div class="docs-offline-optinpromo-confirm-buttons">'+P(Qq({id:"docs-offline-optinpromo-confirm-close",content:Dq("Close")},c||b));return Q(a+"</div></div>")};function P0d(a){E.call(this);this.Ab=a||Td();this.Ma=new Uh(this);this.Ba(this.Ma);this.C=new or(a);this.C.mA(!1);al(this.C.D,!1);this.C.Id("docs-offline-optinpromo");this.C.render();a=this.C.$a();Be(a,!0);Gh(a,"dialog");Hh(a,"labelledby","docs-offline-optinpromo-title");Hh(a,"describedby","docs-offline-optinpromo-description");this.Ba(this.C);this.L=new Rq(null);this.Ba(this.L);this.J=new Rq(null);this.Ba(this.J);this.H=new Rq(null);this.Ba(this.H);this.O=this.F=this.D=null;Q0d(this,R0d)}x(P0d,E);
function R0d(a,b,c){b=c||b;a='<div><div id="docs-offline-optinpromo-title">Work offline and don\'t miss a beat</div><div id="docs-offline-optinpromo-description"><div>Access your Docs, Sheets and Slides files when you\'re offline, or your internet connection isn\'t great.</div><div class="docs-offline-optinpromo-notice">Not recommended on public or shared computers. <a href="#" id="docs-offline-optinpromo-link-learn-more">Learn More</a><a href="#" id="docs-offline-optinpromo-link-show-less" style="display: none">Show less</a></div></div><div id="docs-offline-optinpromo-learn-more-container" style="display: none" tabindex="0"><hr>Protect your Google Drive by enabling offline access only on personal computers or computers where you have a password protected account. Enabling offline access on public or shared computers can put your data at risk, since others may be able to view your synced Google documents, spreadsheets and presentations.<hr></div><br>'+
P(Qq({id:"docs-offline-optinpromo-optin",content:Dq("Turn on offline access"),style:2},b));a+=P(Qq({id:"docs-offline-optinpromo-decline",content:Dq("No thanks"),style:0},b));return Q(a+"</div>")}
function Q0d(a,b){var c=O(b);a.C.setContent(c);switch(b){case R0d:a.Ma.V(a.C,"show",a.Ayb);b=a.Ab.getElement("docs-offline-optinpromo-optin");a.L.rb(b);a.Ma.Uc(a.L,"action",v(a.ixb,a));b=a.Ab.getElement("docs-offline-optinpromo-decline");a.J.rb(b);a.Ma.Uc(a.J,"action",v(a.oob,a));a.D=a.Ab.getElement("docs-offline-optinpromo-link-learn-more");a.F=a.Ab.getElement("docs-offline-optinpromo-link-show-less");a.O=a.Ab.getElement("docs-offline-optinpromo-learn-more-container");a.Ma.V(a.D,"click",v(a.CRa,
a,!0)).V(a.F,"click",v(a.CRa,a,!1));break;case O0d:b=a.Ab.getElement("docs-offline-optinpromo-confirm-close");a.H.rb(b);a.Ma.Uc(a.H,"action",v(a.show,a,!1));a.C.$a().focus();break;default:throw Error("Cannot handle state "+b);}a.Ab.getElement("docs-offline-optinpromo-title");a.Ab.getElement("docs-offline-optinpromo-description")}p=P0d.prototype;p.CRa=function(a){M(this.D,!a);M(this.F,a);M(this.O,a);(a?this.F:this.D).focus();return!1};p.ixb=function(){this.dispatchEvent(new D("Gf"))};p.oob=function(){this.dispatchEvent(new D("Hf"))};
p.show=function(a){this.C.setVisible(a);a||this.dispatchEvent(new D("If"))};p.Ayb=function(){this.C.$a().focus();this.dispatchEvent(new D("Ff"))};function S0d(a,b){this.L=a;this.H=b}function T0d(a){return U0d(a).then(a.C.bind(a)).then(a.D.bind(a)).then(a.F.bind(a)).then(function(){var a=new x3;G(a,1,1);return a},a.J.bind(a))}S0d.prototype.J=function(a){if(a instanceof x3)return a;if(a instanceof Error)throw a;throw Error(a);};
function U0d(a){var b=new x3;return a.L.get().then(function(a){var c=a.D;switch(c){case 3:case 2:return vf();case 4:return G(b,1,3),a=a.nY(),G(b,2,a),xf(b);case 1:return G(b,1,2),xf(b);case 5:return G(b,1,4),xf(b);default:throw Error("Unexpected enabled state: "+c);}})}S0d.prototype.D=function(){return(new tf(function(a,b){this.H.C(a,b)}.bind(this))).then(function(a){if(a)return vf();a=new x3;G(a,1,5);return xf(a)})};S0d.prototype.C=function(){if(cp())return vf();var a=new x3;G(a,1,6);return xf(a)};
S0d.prototype.F=function(){var a=Ah(H(),"docs-offline-mrs");if(!a)throw Error("missing minRequiredSpace information");return new tf(function(b,c){qUa(function(d,e){e>a?b():(d=new x3,G(d,1,7),G(d,3,a),G(d,4,e),c(d))},c)})};function V0d(a,b,c){this.D=a;this.C=c||null}V0d.prototype.nY=g("C");function W0d(a,b){this.C=a;this.pb=b}W0d.prototype.get=function(){return K0d(this.C).then(function(a){return a?new V0d(1,a.DN.getId(),a.DN.SF(),X0d(this)):I0d(this.C).then(function(a){return(new tf(function(b,d){Jva(a.NQ(),b,d)})).then(function(a){if(a.length)if(1==a.length)a=a[0],a=new V0d(4,a.getId(),a.SF());else throw Error("More than one user in store: "+a.length);else a=T_d()?new V0d(2):Aya()?new V0d(5):new V0d(3);return a}.bind(this))}.bind(this))}.bind(this))};
function X0d(a){a=new ZUa(a.pb);var b=H(),c=I(b,"docs-dbsw"),d=[];c&&I(b,"docs-offline-esmst")&&d.push(new Hu("metadata-sync",0,!0,new Gu(1,Hp(),Ju("metadata"),3E5,!0,!0)));c&&I(b,"docs-offline-esbst")&&d.push(new Hu("service-worker-update",0,!0,new Gu(2,kBa(),Ju("service_worker_update"),3E5,!0,!1)),lUa());I(b,"docs-offline-edswut")&&d.push(new Hu("drive-service-worker",0,!0,new Gu(2,lBa(Bh(H(),"drdn"),"/drive/serviceworker/update",!0),Ju("drive_service_worker_update"),3E5,!0,!0)));I(b,"docs-offline-eshcst")&&
d.push(new Hu("homescreen-cello-sync",Ah(H(),"docs-offline-scstpim"),!0,new Gu(2,lBa(pl(ma.location.href),"/document/backgroundsync"),new Iu,3E5,!0,!0)));I(b,"docs-offline-esdcst")&&d.push(new Hu("drive-cello-sync",Ah(H(),"docs-offline-scstpim"),!0,new Gu(2,lBa(Bh(H(),"drdn"),"/drive/_/dataservice/backgroundsync",!0),new Iu,3E5,!0,!0)));c&&I(b,"docs-offline-eslcst")&&d.push(new Hu("local-changes-sync",0,!1,new Gu(1,Hp(),Ju("local_changes_sync"),3E5,!0,!1)));c&&I(b,"docs-offline-esast")&&!I(b,"docs-offline-eoasks")&&
d.push(new Hu("auto-sync",Ah(H(),"docs-offline-sastpim"),!1,new Gu(1,Hp(),Ju("auto_sync"),3E5,!0,!0)));c&&I(b,"docs-offline-eswst")&&d.push(new Hu("webfonts-sync",0,!0,new Gu(1,Hp(),Ju("webfonts_sync"),3E5,!0,!0)));c&&I(b,"docs-offline-esist")&&d.push(new Hu("impression-sync",0,!1,new Gu(1,Hp(),Ju("impressionSync"),3E5,!0,!1)));c&&I(b,"docs-offline-esddt")&&d.push(new Hu("document-deletion",0,!1,new Gu(1,Hp(),Ju("doc_deletion"),3E5,!1,!1)));c&&I(b,"docs-offline-esuuct")&&d.push(new Hu("update-unsaved-changes",
0,!1,new Gu(2,kBa(),Ju("update_unsaved_changes"),3E5,!1,!1)));c&&I(b,"docs-offline-esct")&&d.push(new Hu("cleanup-task",0,!1,new Gu(2,kBa(),Ju("cleanup"),3E5,!1,!1)));c&&I(b,"docs-offline-esrt")&&d.push(new Hu("report-task",0,!1,new Gu(2,kBa(),Ju("report"),3E5,!1,!1)));c&&I(b,"docs-offline-eskst")&&d.push(new Hu("kix-snapshot",0,!1,new Gu(1,lBa(pl(ma.location.href),"/document/snapshot.js"),new Iu,3E5,!1,!1)));c&&I(b,"docs-offline-esost")&&d.push(new Hu("sync-objects-sync",0,!0,new Gu(1,Hp(),Ju("sync_objects_sync"),
3E5,!0,!0)));b=[];for(c=0;c<d.length;c++){var e=d[c];e.C&&b.push(e)}for(d=0;d<b.length;d++)if(c=GUa(a,b[d].getId()),!c||!Zf(c,5,!1))return!1;return!0};function Y0d(a){this.C=a}function Z0d(a,b){var c=(c=a.C.getItem("optInLog"))?JSON.parse(c):[];c.push({email:b,timestamp:Fa()});a.C.setItem("optInLog",im(c))}function $0d(){var a=ma.localStorage;if(!a)throw Error("Local storage not available");return new Y0d(a)};function a1d(a,b,c){this.H=a;this.C=[8];this.F=b;this.D=c}function b1d(a){return I0d(a.H).then(function(a){return c1d(this,a).then(function(){var b=YAa();if(!b)throw Error("Missing user info for enabling offline in flags.");return d1d(this,a,b)}.bind(this))}.bind(a)).then(function(a){return e1d(this,a)}.bind(a))}function c1d(a,b){return(new tf(function(a,d){Jva(b.NQ(),a,d)}.bind(a))).then(function(a){if(a&&a.length)throw Error("Aborting opt-in because there is another user in LocalStorage.");})}
function d1d(a,b,c){var d=new dua(F(c,1),!0);eua(d,c.SF());fua(d,F(c,3));gua(d,!!F(c,4));hua(d,!!F(c,6));d.setProperty("optInReasons",a.C);return(new tf(function(a,c){b.write([d],a,c)}.bind(a))).then(function(){return d})}
function e1d(a,b){Z0d($0d(),b.SF()||"");ma.localStorage&&(ma.localStorage.removeItem("docs-uoo"),ma.localStorage.setItem("docs-oiouid",b.getId()));b=new qp;var c=new Vxa;ig(b,Wxa,c);lya(a.F,b);b=new ip;var d=new ZAa(b);return bxa(b).then(function(){return new tf(function(a,b){d.C(a,b)})}.bind(a)).then(function(a){var b=$Aa(),c=new Yka;this.C[0]&&G(c,1,Eva(this.C[0]));G(c,10,a);G(c,11,b);a=this.D.Qz(81E3,0);b=FO(a);eg(b,34,c);this.D.Rz(a)}.bind(a))};function f1d(a,b,c,d,e,f,h){A.call(this);this.Ab=h||Td();this.D=a;this.pb=b;this.J=c;this.Sb=d;a=new nBa;this.Ba(a);this.F=new sp(a,bBa());this.Ba(this.F);this.jb=new Gp(this.F,bBa(),this);this.Ba(this.jb);this.fb=new Gp(this.F,null,this);this.Ba(this.fb);this.ma=new G0d(this.pb,this.F,e,"OfflinePromoControllerLockSessionId");this.Ba(this.ma);e=new W0d(this.ma,this.pb);a=new ip;this.Ob=new S0d(e,new ZAa(a));e=this.ma;b=H();a=I(b,"docs-offline-ecpl")?"https://jmt17.google.com/log":void 0;b=Bh(b,"gaia_session_id");
a=new JMc(306,b||null,a,!(za(ma)&&ma.window==ma)||!ma.document||!ma.document.documentElement,!0);b=new M0d(a);e=Qf&&yza&&(eBa()||fBa())?new N0d(e):new zcc;e=new xcc(b,null,e);a=new L0d(a);b=cAa();e=scc(rcc(S_d(pcc(occ(new ncc,e),a)),b),84).build();a=lcc(e.UC());b=(new wcc(!1)).get();a.H=b;this.sb=e;this.sb.iH();this.Bb=wCa(this.Ab);this.C=null;this.Ma=new Uh(this);this.Ba(this.Ma);this.Ea=new en;this.Ba(this.Ea);this.Ga=new aj(this.Mrb,6E4,this);this.Ba(this.Ga);this.Fb=!1;this.O=this.La=this.L=null;
this.H=new Ze("docs-offline-promo-reload-butter-dismisss");this.Ba(this.H);this.H.setProperty("label","Dismiss");this.H.Pa(!0);this.H.Yb(Qa,this.Oob.bind(this));this.R=Xo.getInstance();this.qa=this.Oa=this.Aa=this.Hb=!1;this.Na=Qf&&fj("56.0.2924.87");this.mb=!1;this.Jb=f}x(f1d,A);p=f1d.prototype;p.init=function(){var a=this;cp()&&(g1d(this),h1d(this),z3(this).then(function(){i1d(a)},function(b){a.pb.bd(af(b))}))};
function i1d(a){a.F.connect();fn(a.Ea,a.D.wQ(),function(){a.Ga.start();z3(a)});fn(a.Ea,a.D.xQ(),function(){a.Ga.stop();g1d(a);h1d(a);z3(a)});a.Ma.V(a.Bb,"change",a.z8a);a.jb.V(Wxa,a.y8a);a.fb.V(Wxa,a.x8a).V($xa,a.kkb)}
function z3(a){return T0d(a.Ob).then(function(b){var c=1==b.Rt()&&!a.Aa,d=a.D.Si(),e;if(!(e=a.qa)&&(e=!T_d())){try{var f=!!ma.localStorage.getItem("docs-urop")}catch(k){f=!0}e=!f}f=I(H(),"promo_show_on_load");if((c=c&&a.Na&&e)&&!(c=!d)){try{var h=!!ma.localStorage.getItem("docs-wownoi")}catch(k){h=!1}c=h&&!f}h=c;a.Hb||(h?a.C||(a.C=new P0d(a.Ab),a.Ba(a.C),a.Ma.V(a.C,"Gf",a.jxb).V(a.C,"Hf",a.fxb).V(a.C,"If",a.J6a),a.C.show(!0),j1d(a)):a.C&&a.C.show(!1));if(a.Sb){if(2==b.Rt()||d||h)k1d(a);else if(a.La&&
!jg(b,a.La)&&k1d(a),null==a.L){h=l1d(b);if(!a.mb)switch(b.Rt()){case 1:break;case 3:m1d(a,"Offline ineligible, other user enabled");break;case 7:m1d(a,"Offline ineligible, insufficient disk space");break;case 5:m1d(a,"Offline ineligible, policy disallows");break;case 6:m1d(a,"Offline ineligible, no extension");break;case 4:m1d(a,"Offline ineligible, invalid db state");break;default:m1d(a,"Offline ineligible, unknown reason")}b=1==b.Rt()&&a.Na?$o(h,"Turn on...",a.Zyb.bind(a),"info",!1):Zo(h,"info",
!1);a.L=a.R.postMessage(b)}d&&a.Aa&&!a.Oa?null==a.O&&(d=$o("Reload to start editing even when offline.","Reload",a.$yb.bind(a),"info",!0,void 0,a.H),a.O=a.R.postMessage(d)):null!=a.O&&(Yo(a.R,a.O),a.O=null)}})}p.Mrb=function(){zya()||U_d(!0)};
p.kxb=function(){if(this.D.Si()){var a=Bh(H(),"docs-offline-hsu");var b="<div>";a="The next time you're offline, just visit "+('<a href="//'+S(a)+'">'+(P(a)+("</a> to create and edit without interruption. "+('<a href="'+S(Iq("https://support.google.com/docs/answer/2375012?hl=en"))+'">Learn more</a>'))));b=Q(b+a+'</div><img class="doc-offline-welcomepromo-img" src="//ssl.gstatic.com/images/icons/material/system/2x/cloud_download_googblue_36dp.png">');b=IDa("Your documents are syncing",tq(b),void 0,
this,"Got it","docs-offline-welcomepromo",this.Ab);L(b.gr(),"docs-offline-welcomepromo-bg");this.Ba(b);this.C&&this.C.show(!1)}else this.Hb=!0,Q0d(this.C,O0d);this.Aa=!0;z3(this)};p.y8a=function(){this.Aa=!0;z3(this)};p.x8a=function(){z3(this)};p.kkb=function(){this.qa=!1;z3(this)};
p.hxb=function(a){this.pb.bd(a instanceof Error?a:Error(a?"Opt-in error: "+a:"Unknown opt-in error"));a=Ot(this.Jb,"Turning on offline access failed. Please try again later.",this.Ab);a.D=!0;a.render();a.setVisible(!0);this.Ba(a)};p.jxb=function(){this.J.Zb(2054);U_d(!1);b1d(new a1d(this.ma,this.F,this.sb)).then(v(this.kxb,this),v(this.hxb,this))};
p.fxb=function(){this.D.Si()?this.J.Zb(2055):W_d(!0);U_d(!1);ma.localStorage.setItem("docs-urop","true");this.qa=!1;z3(this);var a=new qp,b=new Zxa;ig(a,$xa,b);lya(this.F,a)};
function l1d(a){switch(a.Rt()){case 1:return"To edit offline, turn on offline sync.";case 3:return"You cannot edit offline because offline sync is enabled for another user, "+(a.nY()+".");case 7:return"There is insufficient storage space on your device to turn on offline sync.";case 5:return"Offline sync is disabled by your administrator.";default:return"To edit offline, turn on offline sync when you reconnect."}}
function m1d(a,b){var c={};c.offlineIssueReason=b;c.offlineIssueType="OFFLINE_EDITING_BLOCKED_OFFLINE_DISABLED";Bm(a.pb,Error("Offline editing disabled: "+b),c);a.mb=!0}function k1d(a){null!=a.L&&(Yo(a.R,a.L),a.L=null,a.La=null)}p.Zyb=function(){this.qa=!0;z3(this)};p.$yb=function(){ma.location.reload()};p.Oob=function(){this.Oa=!0};p.z8a=function(){j1d(this)};p.J6a=function(){C(this.C);this.C=null};function j1d(a){!a.Fb&&a.C&&"hidden"!=a.Bb.getState()&&(a.D.Si()?a.J.Zb(2847):V_d(!0),a.Fb=!0)}
function g1d(a){try{var b=!!ma.localStorage.getItem("docs-rops")}catch(c){b=!1}b&&a.D.Si()&&(V_d(!1),a.J.Zb(2847))}function h1d(a){try{var b=!!ma.localStorage.getItem("docs-ropd")}catch(c){b=!1}b&&a.D.Si()&&(W_d(!1),a.J.Zb(2055))};function n1d(a,b,c,d,e,f,h){A.call(this);this.D=b;this.J=zf();o1d(this);this.F=this.H=null;this.O=a;this.C=c;this.Ma=new Uh(this);this.Ba(this.Ma);this.L=new en;this.Ba(this.L);this.R=d;this.ma=e;this.Aa=f;this.qa=h}x(n1d,A);p=n1d.prototype;p.start=function(){var a=this;p1d(this.D).then(function(b){b.connect();a.J.resolve(b)});q1d(this);fn(this.L,this.O.xQ(),function(){r1d(a)})};
function D0d(a){if(2!=a.C.I6())throw Error("Cannot enable offline when it is not disabled. Current state:"+a.C.I6());f0d(a.C,4);return s1d(a.D,10).then(function(a){var b=a.Rt();return vf().then(function(){return 1==b||2==b?A3(this,1):A3(this,2)}.bind(this)).then(function(){return a})}.bind(a))}p.OB=function(){return this.D.OB()};
function q1d(a){Bf(a.D.H().then(function(a){switch(a.I6()){case 1:return t1d(this.D).then(function(){return A3(this,1)}.bind(this)).then(function(){r1d(this)}.bind(this));case 2:return A3(this,2);case 4:return u1d(this,a.nY());case 3:return a=F(a,3),null!=a?v1d(this,a):A3(this,2);case 5:return w1d(this)}}.bind(a)),function(a){this.C.F.resolve(a)}.bind(a))}
p.SDb=function(a){1==this.C.C&&!this.C.H&&0==F(a,2)&&Bf(this.D.H().then(function(a){var b=this.C;a=F(a,5);b.H=a;b.dispatchEvent("Ef")}.bind(this)),ca().bind(this))};function u1d(a){return A3(a,2)}function v1d(a,b){return a.ma?s1d(a.D,b).then(function(a){switch(a.Rt()){case 1:return A3(this,1);case 2:return A3(this,1);default:return A3(this,2)}}.bind(a)):vf()}
function w1d(a){return a.Aa?s1d(a.D,2).then(function(a){switch(a.Rt()){case 1:case 2:return A3(this,1);default:return A3(this,2)}}.bind(a)):vf()}function o1d(a){a.J.C.then(function(a){this.H=new Gp(a,"user_"+this.R,this);this.Ba(this.H);this.F=new Gp(a,null,this);this.Ba(this.F);this.H.V(Wxa,this.B8a).V(Yxa,this.zwb).V(bya,this.SDb);this.F.V(Wxa,this.A8a).V(Yxa,this.jkb)}.bind(a))}p.B8a=function(){Bf(A3(this,1),ca().bind(this))};p.zwb=function(){Bf(A3(this,2),ca().bind(this))};p.A8a=function(){x1d(this)};
p.jkb=function(){x1d(this)};function A3(a,b){return a.OB().then(function(a){f0d(this.C,b,a)}.bind(a)).then(function(){return this.D.H().then(function(a){var b=this.C;a=F(a,5);b.H=a;b.dispatchEvent("Ef")}.bind(this))}.bind(a)).then(ca().bind(a))}function x1d(a){a.OB().then(function(a){var b=this.C;b.D=a;b.dispatchEvent("Ef")}.bind(a))}function r1d(a){a.qa&&1==a.C.C&&Bf(y1d(a.D),ca().bind(a))};function z1d(a){this.D=a}z1d.prototype.C=g("D");function B3(a,b,c,d){A.call(this);this.F=zf();this.Ab=d||Td();this.Ma=new Uh(this);this.Ba(this.Ma);this.J=a;a=new Gl(b);a.kc("ouid",this.J);mBa()&&a.kc("Debug","true");Ml(a,"cd="+c);if(Lb(a.C))throw Error("Url contains invalid domain: "+b);this.L=Jl(Il(Hl(new Gl,a.H),a.C),a.J).toString();this.C=this.Ab.Da("IFRAME",{style:"display:none"});Bd(this.C,gp(a.toString()));this.Ma.V(Ke(this.Ab),"message",this.O);this.Ab.Xb().body.appendChild(this.C);this.D=!1}x(B3,A);
function p1d(a){var b=new y3;b.setType(1);return C3(a,b).then(function(a){a=new sp(new z1d(a.port),"user_"+this.J);this.Ba(a);return a}.bind(a))}function c0d(a,b){var c=new y3;c.setType(2);var d=new j0d;G(d,1,b||[]);eg(c,2,d);return C3(a,c).then(function(a){return dg(cg(a.response,l0d,3),r0d,1)}.bind(a))}B3.prototype.H=function(){var a=new y3;a.setType(4);return C3(this,a).then(function(a){return cg(a.response,n0d,4).H()}.bind(this))};
B3.prototype.OB=function(){var a=new y3;a.setType(10);return C3(this,a).then(function(a){return cg(a.response,o0d,7).OB()}.bind(this))};function B0d(a,b,c){var d=new y3;d.setType(5);var e=new s0d;fg(e,1,b);G(e,2,c);eg(d,3,e);return C3(a,d).then(ca())}function s1d(a,b){var c=new y3;c.setType(6);var d=new p0d;G(d,1,b);eg(c,4,d);return C3(a,c).then(function(a){return cg(a.response,q0d,5).OB()})}function t1d(a){var b=new y3;b.setType(9);return C3(a,b).then(ca())}
function y1d(a){var b=new y3;b.setType(11);return C3(a,b).then(ca())}
function C3(a,b){return a.F.C.then(function(a){var c=new MessageChannel;a.postMessage(b.$f(),[c.port2]);var e=zf();c.port1.onmessage=v(function(a){a=new A1d(a);a.response&&a.response.oK()?(a=a.response.oK(),e.reject(Error("Iframe api request of type "+b.getType()+" failed (error type "+a.getType()+"): "+a.getErrorMessage()))):e.resolve(a)},this);var f=t(void 0)?void 0:3E4,h=Yi(function(){e.reject(Error("Iframe api request of type "+b.getType()+" timed out after "+f+"ms."))},f);Af(e.C,function(){c.port1.close();
Zi(h)});return e.C}.bind(a))}B3.prototype.O=function(a){(a=a.ze)&&a.origin==this.L&&a.source==this.C.contentWindow&&!this.D&&(a.ports&&a.ports.length&&a.ports[0]&&(a=a.ports[0],Db(this,a.close,a),this.F.resolve(a),this.D=!0),C(this.Ma))};B3.prototype.Ha=function(){this.Ab.zf(this.C);B3.oa.Ha.call(this)};function A1d(a){this.response=a.data?new h0d(a.data):null;this.port=a.ports&&a.ports.length&&a.ports[0]?a.ports[0]:null};function B1d(a,b,c,d,e,f,h,k,l,m){A.call(this);this.F=Bh(H(),"docs-offline-lsuid");I(H(),"docs-offline-eeooip")&&(c=new f1d(a,b,c,d,h,l,m),this.Ba(c),c.init());this.H=new nBa;this.C=new sp(this.H,bBa());this.Ba(this.C);this.C.connect();this.D=new d0d;this.Ba(this.D);!I(H(),"docs-offline-eiedp")||I(H(),"docs-isd")&&!I(H(),"docs-offline-esdp")||(c=jBa("/iframeapi",void 0),c=new B3(this.F,c,1),this.Ba(c),a=new n1d(a,c,this.D,this.F,!1,!1,!1),this.Ba(a),a.start(),d=new $_d(e.xc(),c,this.C),this.Ba(d),
d.start(),b=new v0d(e,f,c,d,this.D,k,a,b,l),this.Ba(b),b.init())}x(B1d,A);function C1d(){A.call(this)}x(C1d,Az);C1d.prototype.C=function(a,b,c,d,e,f,h,k,l){return new B1d(a,b,c,!0,d,e,f,h,k,l)};Gz("offline",C1d);
