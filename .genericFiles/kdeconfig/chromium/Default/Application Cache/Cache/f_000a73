Ex.prototype.Xj=LO(71,function(){return W(this,2)});dH.prototype.Xj=LO(70,g("F"));Ufa.prototype.qr=LO(6,function(){return null!=F(this,5)});cn.prototype.qr=LO(5,function(){return null!=F(this,1)});bv.prototype.qr=LO(4,function(){return Su(this,2)});function ZJd(a){Fb(a,"google::")||(a="google::"+a);a=Qb(a);return Ml(Kl(Il(Hl(new Gl,"https"),"plx.corp.google.com"),"/script/"),"a=qo|i="+a).toString()}function z1(){U.call(this)}x(z1,U);var $Jd=null;z1.prototype.lx=function(){return Su(this,1)};
function A1(){U.call(this)}x(A1,U);var aKd=null;A1.prototype.lx=function(){return Su(this,1)};A1.prototype.Dm=function(){return W(this,2)};A1.prototype.oL=function(){return Su(this,2)};function B1(){U.call(this)}x(B1,U);var bKd=null;B1.prototype.getName=function(){return W(this,1)};B1.prototype.Ke=function(a){X(this,1,a)};function C1(){U.call(this)}x(C1,U);var cKd=null;p=C1.prototype;p.Ib=function(){return W(this,1)};p.Gf=function(){return Xu(this,1)};p.qg=function(){return Su(this,1)};
p.jq=function(){return W(this,2)};p.getColumnIndex=function(){return W(this,3)};p.Mt=function(){return Xu(this,3)};function D1(){U.call(this)}x(D1,U);var dKd=null;z1.prototype.Ca=function(){var a=$Jd;a||($Jd=a=Yu(z1,{0:{name:"PlxQuery",wb:"ritzproto.PlxQuery"},1:{name:"query",xa:9,type:String},2:{name:"engine",xa:9,type:String},3:{name:"script_id",xa:9,type:String}}));return a};z1.Ca=z1.prototype.Ca;
A1.prototype.Ca=function(){var a=aKd;a||(aKd=a=Yu(A1,{0:{name:"BigQueryQuery",wb:"ritzproto.BigQueryQuery"},1:{name:"query",xa:9,type:String},2:{name:"project_id",xa:9,type:String}}));return a};A1.Ca=A1.prototype.Ca;B1.prototype.Ca=function(){var a=bKd;a||(bKd=a=Yu(B1,{0:{name:"QueryParameter",wb:"ritzproto.QueryParameter"},1:{name:"name",xa:9,type:String},2:{name:"constant_value",xa:9,type:String},3:{name:"workbookrange_id",xa:9,type:String},4:{name:"cell_coordinate",xa:11,type:C1}}));return a};
B1.Ca=B1.prototype.Ca;C1.prototype.Ca=function(){var a=cKd;a||(cKd=a=Yu(C1,{0:{name:"CellCoordinate",wb:"ritzproto.CellCoordinate"},1:{name:"sheet_id",xa:9,type:String},2:{name:"row_index",xa:5,type:Number},3:{name:"column_index",xa:5,type:Number}}));return a};C1.Ca=C1.prototype.Ca;
D1.prototype.Ca=function(){var a=dKd;a||(dKd=a=Yu(D1,{0:{name:"QueryProto",wb:"ritzproto.QueryProto"},1:{name:"sql_query",xa:9,type:String},2:{name:"plx_query",xa:11,type:z1},4:{name:"bigquery_query",xa:11,type:A1},3:{name:"parameters",jc:!0,xa:11,type:B1}}));return a};D1.Ca=D1.prototype.Ca;var eKd={oFc:0,Ztc:1,Kxc:2,p8b:3,sCc:4};function E1(){U.call(this)}x(E1,U);var fKd=null;E1.prototype.getName=function(){return W(this,1)};E1.prototype.Ke=function(a){X(this,1,a)};function F1(){U.call(this)}x(F1,U);var gKd=null;p=F1.prototype;p.getId=function(){return W(this,1)};p.Dn=function(){return Xu(this,1)};p.vf=function(a){X(this,1,a)};p.getType=function(){return W(this,2)};p.setType=function(a){X(this,2,a)};function G1(){U.call(this)}x(G1,U);var hKd=null;function H1(){U.call(this)}x(H1,U);
var iKd=null;H1.prototype.getErrorCode=function(){return W(this,3)};H1.prototype.qr=function(){return Su(this,3)};function I1(){U.call(this)}x(I1,U);var jKd=null;I1.prototype.lx=function(){return Su(this,2)};function J1(){U.call(this)}x(J1,U);var kKd=null;J1.prototype.Xj=function(){return W(this,1)};J1.prototype.Ib=function(){return W(this,3)};J1.prototype.Gf=function(){return Xu(this,3)};J1.prototype.qg=function(){return Su(this,3)};function K1(){U.call(this)}x(K1,U);var lKd=null;
K1.prototype.lx=function(){return Su(this,2)};K1.prototype.getToken=function(){return W(this,4)};K1.prototype.setToken=function(a){X(this,4,a)};function L1(){U.call(this)}x(L1,U);var mKd=null;L1.prototype.Xj=function(){return W(this,1)};function M1(){U.call(this)}x(M1,U);var nKd=null;M1.prototype.$I=function(a){Uu(this,2,a)};function oKd(){U.call(this)}x(oKd,U);var pKd=null;function qKd(){U.call(this)}x(qKd,U);var rKd=null;function sKd(){U.call(this)}x(sKd,U);var tKd=null;
function N1(){U.call(this)}x(N1,U);var uKd=null;function O1(){U.call(this)}x(O1,U);var vKd=null;O1.prototype.Ib=function(){return W(this,1)};O1.prototype.Gf=function(){return Xu(this,1)};O1.prototype.qg=function(){return Su(this,1)};O1.prototype.Xj=function(){return W(this,2)};function P1(){U.call(this)}x(P1,U);var wKd=null;P1.prototype.Dm=function(){return W(this,2)};P1.prototype.oL=function(){return Su(this,2)};function Q1(){U.call(this)}x(Q1,U);var xKd=null;
Q1.prototype.getErrorCode=function(){return W(this,2)};Q1.prototype.qr=function(){return Su(this,2)};function R1(){U.call(this)}x(R1,U);var yKd=null;R1.prototype.getName=function(){return W(this,1)};R1.prototype.Ke=function(a){X(this,1,a)};R1.prototype.Dm=function(){return W(this,3)};function zKd(a,b){X(a,3,b)}R1.prototype.oL=function(){return Su(this,3)};function S1(){U.call(this)}x(S1,U);var AKd=null;S1.prototype.lx=function(){return Su(this,2)};function T1(){U.call(this)}x(T1,U);var BKd=null;
T1.prototype.Xj=function(){return W(this,1)};function CKd(){U.call(this)}x(CKd,U);var DKd=null;function U1(){U.call(this)}x(U1,U);var EKd=null;p=U1.prototype;p.getId=function(){return W(this,1)};p.Dn=function(){return Xu(this,1)};p.vf=function(a){X(this,1,a)};p.getName=function(){return W(this,2)};p.Ke=function(a){X(this,2,a)};function V1(){U.call(this)}x(V1,U);var FKd=null;function W1(){U.call(this)}x(W1,U);var GKd=null;W1.prototype.getErrorCode=function(){return W(this,2)};
W1.prototype.qr=function(){return Su(this,2)};function X1(){U.call(this)}x(X1,U);var HKd=null;X1.prototype.Dm=function(){return W(this,2)};X1.prototype.oL=function(){return Su(this,2)};function Y1(){U.call(this)}x(Y1,U);var IKd=null;Y1.prototype.getErrorCode=function(){return W(this,2)};Y1.prototype.qr=function(){return Su(this,2)};function JKd(){U.call(this)}x(JKd,U);var KKd=null;function Z1(){U.call(this)}x(Z1,U);var LKd=null;Z1.prototype.getErrorCode=function(){return W(this,2)};
Z1.prototype.qr=function(){return Su(this,2)};function $1(){U.call(this)}x($1,U);var MKd=null;p=$1.prototype;p.getId=function(){return W(this,1)};p.Dn=function(){return Xu(this,1)};p.vf=function(a){X(this,1,a)};p.getName=function(){return W(this,2)};p.Ke=function(a){X(this,2,a)};function a2(){U.call(this)}x(a2,U);var NKd=null;function b2(){U.call(this)}x(b2,U);var OKd=null;b2.prototype.lx=function(){return Su(this,2)};function c2(){U.call(this)}x(c2,U);var PKd=null;function d2(){U.call(this)}
x(d2,U);var QKd=null;d2.prototype.Xj=function(){return W(this,1)};E1.prototype.Ca=function(){var a=fKd;a||(fKd=a=Yu(E1,{0:{name:"CreateConnectionRequest",wb:"ritzproto.CreateConnectionRequest"},1:{name:"name",xa:9,type:String},2:{name:"connection_type",xa:14,defaultValue:0,type:BWa},3:{name:"jdbc_connection_info",xa:11,type:G1}}));return a};E1.Ca=E1.prototype.Ca;
F1.prototype.Ca=function(){var a=gKd;a||(gKd=a=Yu(F1,{0:{name:"ImportConnectionRequest",wb:"ritzproto.ImportConnectionRequest"},1:{name:"id",xa:9,type:String},2:{name:"type",xa:14,defaultValue:0,type:BWa}}));return a};F1.Ca=F1.prototype.Ca;
G1.prototype.Ca=function(){var a=hKd;a||(hKd=a=Yu(G1,{0:{name:"JdbcConnectionInfo",wb:"ritzproto.JdbcConnectionInfo"},1:{name:"database_type",xa:14,defaultValue:0,type:eKd},2:{name:"hostname",xa:9,type:String},3:{name:"db_name",xa:9,type:String},4:{name:"username",xa:9,type:String},5:{name:"password",xa:9,type:String},6:{name:"use_ssl",xa:8,type:Boolean},7:{name:"client_key",xa:9,type:String},8:{name:"client_cert",xa:9,type:String},9:{name:"server_ca",xa:9,type:String},10:{name:"jdbc_url",xa:9,type:String}}));
return a};G1.Ca=G1.prototype.Ca;H1.prototype.Ca=function(){var a=iKd;a||(iKd=a=Yu(H1,{0:{name:"CreateConnectionResponse",wb:"ritzproto.CreateConnectionResponse"},1:{name:"success",xa:8,type:Boolean},2:{name:"connection_id",xa:9,type:String},3:{name:"error_code",xa:14,defaultValue:0,type:CWa},4:{name:"error_text",xa:9,type:String}}));return a};H1.Ca=H1.prototype.Ca;
I1.prototype.Ca=function(){var a=jKd;a||(jKd=a=Yu(I1,{0:{name:"CreateQueryRequest",wb:"ritzproto.CreateQueryRequest"},1:{name:"connection_id",xa:9,type:String},2:{name:"query",xa:11,type:D1}}));return a};I1.Ca=I1.prototype.Ca;J1.prototype.Ca=function(){var a=kKd;a||(kKd=a=Yu(J1,{0:{name:"CreateQueryResponse",wb:"ritzproto.CreateQueryResponse"},1:{name:"execution_status",xa:11,type:bv},2:{name:"query_id",xa:9,type:String},3:{name:"sheet_id",xa:9,type:String}}));return a};J1.Ca=J1.prototype.Ca;
K1.prototype.Ca=function(){var a=lKd;a||(lKd=a=Yu(K1,{0:{name:"PreviewQueryRequest",wb:"ritzproto.PreviewQueryRequest"},1:{name:"connection_id",xa:9,type:String},2:{name:"query",xa:11,type:D1},3:{name:"max_rows",xa:5,type:Number},4:{name:"token",xa:9,type:String},5:{name:"dry_run",xa:8,type:Boolean}}));return a};K1.Ca=K1.prototype.Ca;
L1.prototype.Ca=function(){var a=mKd;a||(mKd=a=Yu(L1,{0:{name:"PreviewQueryResponse",wb:"ritzproto.PreviewQueryResponse"},1:{name:"execution_status",xa:11,type:bv},2:{name:"query_result",xa:11,type:M1},3:{name:"total_rows",xa:5,type:Number},4:{name:"has_more",xa:8,type:Boolean},5:{name:"metadata",xa:11,type:qKd}}));return a};L1.Ca=L1.prototype.Ca;
M1.prototype.Ca=function(){var a=nKd;a||(nKd=a=Yu(M1,{0:{name:"QueryResult",wb:"ritzproto.QueryResult"},1:{name:"column_names",jc:!0,xa:9,type:String},2:{name:"rows",jc:!0,xa:11,type:oKd}}));return a};M1.Ca=M1.prototype.Ca;oKd.prototype.Ca=function(){var a=pKd;a||(pKd=a=Yu(oKd,{0:{name:"QueryResultRow",wb:"ritzproto.QueryResultRow"},1:{name:"formatted_values",jc:!0,xa:11,type:jv}}));return a};oKd.Ca=oKd.prototype.Ca;
qKd.prototype.Ca=function(){var a=rKd;a||(rKd=a=Yu(qKd,{0:{name:"QueryExecutionMetadata",wb:"ritzproto.QueryExecutionMetadata"},1:{name:"bytes_processed",xa:9,type:String}}));return a};qKd.Ca=qKd.prototype.Ca;sKd.prototype.Ca=function(){var a=tKd;a||(tKd=a=Yu(sKd,{0:{name:"RefreshSheetsRequest",wb:"ritzproto.RefreshSheetsRequest"},1:{name:"sheet_ids",jc:!0,xa:9,type:String}}));return a};sKd.Ca=sKd.prototype.Ca;
N1.prototype.Ca=function(){var a=uKd;a||(uKd=a=Yu(N1,{0:{name:"RefreshSheetsResponse",wb:"ritzproto.RefreshSheetsResponse"},1:{name:"results",jc:!0,xa:11,type:O1}}));return a};N1.Ca=N1.prototype.Ca;O1.prototype.Ca=function(){var a=vKd;a||(vKd=a=Yu(O1,{0:{name:"RefreshSheetResult",wb:"ritzproto.RefreshSheetResult"},1:{name:"sheet_id",xa:9,type:String},2:{name:"execution_status",xa:11,type:bv}}));return a};O1.Ca=O1.prototype.Ca;
P1.prototype.Ca=function(){var a=wKd;a||(wKd=a=Yu(P1,{0:{name:"GetTablesRequest",wb:"ritzproto.GetTablesRequest"},1:{name:"connection_id",xa:9,type:String},2:{name:"project_id",xa:9,type:String},3:{name:"schema_name",xa:9,type:String}}));return a};P1.Ca=P1.prototype.Ca;
Q1.prototype.Ca=function(){var a=xKd;a||(xKd=a=Yu(Q1,{0:{name:"GetTablesResponse",wb:"ritzproto.GetTablesResponse"},1:{name:"success",xa:8,type:Boolean},2:{name:"error_code",xa:14,defaultValue:0,type:CWa},3:{name:"error_text",xa:9,type:String},4:{name:"tables",jc:!0,xa:11,type:R1}}));return a};Q1.Ca=Q1.prototype.Ca;
R1.prototype.Ca=function(){var a=yKd;a||(yKd=a=Yu(R1,{0:{name:"Table",wb:"ritzproto.Table"},1:{name:"name",xa:9,type:String},2:{name:"schema",xa:9,type:String},3:{name:"project_id",xa:9,type:String}}));return a};R1.Ca=R1.prototype.Ca;S1.prototype.Ca=function(){var a=AKd;a||(AKd=a=Yu(S1,{0:{name:"EditQueryRequest",wb:"ritzproto.EditQueryRequest"},1:{name:"query_id",xa:9,type:String},2:{name:"query",xa:11,type:D1}}));return a};S1.Ca=S1.prototype.Ca;
T1.prototype.Ca=function(){var a=BKd;a||(BKd=a=Yu(T1,{0:{name:"EditQueryResponse",wb:"ritzproto.EditQueryResponse"},1:{name:"execution_status",xa:11,type:bv}}));return a};T1.Ca=T1.prototype.Ca;CKd.prototype.Ca=function(){var a=DKd;a||(DKd=a=Yu(CKd,{0:{name:"ListConnectionsResponse",wb:"ritzproto.ListConnectionsResponse"},1:{name:"connections",jc:!0,xa:11,type:U1}}));return a};CKd.Ca=CKd.prototype.Ca;
U1.prototype.Ca=function(){var a=EKd;a||(EKd=a=Yu(U1,{0:{name:"Connection",wb:"ritzproto.Connection"},1:{name:"id",xa:9,type:String},2:{name:"name",xa:9,type:String},3:{name:"connection_type",xa:14,defaultValue:0,type:BWa},4:{name:"jdbc_connection_info",xa:11,type:G1}}));return a};U1.Ca=U1.prototype.Ca;V1.prototype.Ca=function(){var a=FKd;a||(FKd=a=Yu(V1,{0:{name:"GetColumnsRequest",wb:"ritzproto.GetColumnsRequest"},1:{name:"connection_id",xa:9,type:String},2:{name:"table",xa:11,type:R1}}));return a};
V1.Ca=V1.prototype.Ca;W1.prototype.Ca=function(){var a=GKd;a||(GKd=a=Yu(W1,{0:{name:"GetColumnsResponse",wb:"ritzproto.GetColumnsResponse"},1:{name:"success",xa:8,type:Boolean},2:{name:"error_code",xa:14,defaultValue:0,type:CWa},3:{name:"error_text",xa:9,type:String},4:{name:"column_names",jc:!0,xa:9,type:String}}));return a};W1.Ca=W1.prototype.Ca;
X1.prototype.Ca=function(){var a=HKd;a||(HKd=a=Yu(X1,{0:{name:"GetDatasetsRequest",wb:"ritzproto.GetDatasetsRequest"},1:{name:"connection_id",xa:9,type:String},2:{name:"project_id",xa:9,type:String}}));return a};X1.Ca=X1.prototype.Ca;
Y1.prototype.Ca=function(){var a=IKd;a||(IKd=a=Yu(Y1,{0:{name:"GetDatasetsResponse",wb:"ritzproto.GetDatasetsResponse"},1:{name:"success",xa:8,type:Boolean},2:{name:"error_code",xa:14,defaultValue:0,type:CWa},3:{name:"error_text",xa:9,type:String},4:{name:"dataset_names",jc:!0,xa:9,type:String}}));return a};Y1.Ca=Y1.prototype.Ca;
JKd.prototype.Ca=function(){var a=KKd;a||(KKd=a=Yu(JKd,{0:{name:"GetBigQueryProjectsRequest",wb:"ritzproto.GetBigQueryProjectsRequest"},1:{name:"connection_id",xa:9,type:String}}));return a};JKd.Ca=JKd.prototype.Ca;
Z1.prototype.Ca=function(){var a=LKd;a||(LKd=a=Yu(Z1,{0:{name:"GetBigQueryProjectsResponse",wb:"ritzproto.GetBigQueryProjectsResponse"},1:{name:"success",xa:8,type:Boolean},2:{name:"error_code",xa:14,defaultValue:0,type:CWa},3:{name:"error_text",xa:9,type:String},4:{name:"projects",jc:!0,xa:11,type:$1}}));return a};Z1.Ca=Z1.prototype.Ca;
$1.prototype.Ca=function(){var a=MKd;a||(MKd=a=Yu($1,{0:{name:"BigQueryProject",wb:"ritzproto.BigQueryProject"},1:{name:"id",xa:9,type:String},2:{name:"name",xa:9,type:String}}));return a};$1.Ca=$1.prototype.Ca;a2.prototype.Ca=function(){var a=NKd;a||(NKd=a=Yu(a2,{0:{name:"GetQueryRequest",wb:"ritzproto.GetQueryRequest"},1:{name:"query_id",xa:9,type:String}}));return a};a2.Ca=a2.prototype.Ca;
b2.prototype.Ca=function(){var a=OKd;a||(OKd=a=Yu(b2,{0:{name:"GetQueryResponse",wb:"ritzproto.GetQueryResponse"},1:{name:"found",xa:8,type:Boolean},2:{name:"query",xa:11,type:D1}}));return a};b2.Ca=b2.prototype.Ca;c2.prototype.Ca=function(){var a=PKd;a||(PKd=a=Yu(c2,{0:{name:"GetExecutionStatusRequest",wb:"ritzproto.GetExecutionStatusRequest"},1:{name:"query_id",xa:9,type:String}}));return a};c2.Ca=c2.prototype.Ca;
d2.prototype.Ca=function(){var a=QKd;a||(QKd=a=Yu(d2,{0:{name:"GetExecutionStatusResponse",wb:"ritzproto.GetExecutionStatusResponse"},1:{name:"execution_status",xa:11,type:bv}}));return a};d2.Ca=d2.prototype.Ca;function RKd(a,b){b=void 0===b?"":b;this.C=[];for(var c=0;c<a.length;c++)this.C.push(a[c].clone());this.D=b};function SKd(){var a='<div class="'+S("waffle-dataconnector-bigqueryquerysettingsdialog-project-section")+'"><h3 class="'+S("waffle-dataconnector-bigqueryquerysettingsdialog-project-select-header")+'">';a=a+"Billing project"+('</h3><div class="'+S("waffle-dataconnector-bigqueryquerysettingsdialog-project-select-wrapper")+'"></div></div>');return Q(a)}
function TKd(){var a='<div class="'+S("waffle-dataconnector-bigqueryquerysettingsdialog-continue-button-wrapper")+'"></div><div class="'+S("waffle-dataconnector-footer-sharing-message")+'">';return Q(a+'<span>The data you query is visible to everyone with view access, but your query is only visible to people with edit access. <a href="https://sites.google.com/corp/google.com/sheets-data-connectors-tt-help/home" target="_blank">Learn more</a></span></div>')};function UKd(){return Q('<svg class="waffle-dataconnector-close-icon" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><g fill="none" fill-rule="evenodd"><path d="M0,0 L18,0 L18,18 L0,18 L0,0 Z M0,0 L18,0 L18,18 L0,18 L0,0 Z"/><polygon fill="#000" points="14.53 4.53 13.47 3.47 9 7.94 4.53 3.47 3.47 4.53 7.94 9 3.47 13.47 4.53 14.53 9 10.06 13.47 14.53 14.53 13.47 10.06 9"/></g></svg>')}
function VKd(){return Q('<svg class="waffle-dataconnector-refresh-icon" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><g fill="none" fill-rule="evenodd"><polygon points="0 0 18 0 18 18 0 18"/><path fill="#000" d="M9,13.5 C6.51,13.5 4.5,11.49 4.5,9 C4.5,6.51 6.51,4.5 9,4.5 C10.24,4.5 11.36,5.02 12.17,5.83 L10,8 L15,8 L15,3 L13.24,4.76 C12.15,3.68 10.66,3 9,3 C5.69,3 3.01,5.69 3.01,9 C3.01,12.31 5.69,15 9,15 C11.97,15 14.43,12.84 14.9,10 L13.38,10 C12.92,12 11.14,13.5 9,13.5 L9,13.5 Z"/></g></svg>')}
function WKd(a){a=a||{};a=a.color;a='<svg class="waffle-dataconnector-error-icon" width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><path fill="'+S(null==a?"#D0021B":a)+'" fill-rule="evenodd" d="M9,13 L11,13 L11,15 L9,15 L9,13 Z M9,5 L11,5 L11,11 L9,11 L9,5 Z M9.99,0 C4.47,0 0,4.48 0,10 C0,15.52 4.47,20 9.99,20 C15.52,20 20,15.52 20,10 C20,4.48 15.52,0 9.99,0 Z M10,18 C5.58,18 2,14.42 2,10 C2,5.58 5.58,2 10,2 C14.42,2 18,5.58 18,10 C18,14.42 14.42,18 10,18 Z"></path></g></svg>';
return Q(a)}
function XKd(a){a=a||{};a=a.color;a='<svg class="waffle-dataconnector-error-icon-filled" width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><path fill-rule="evenodd" fill="'+S(null==a?"#D0021B":a)+'" d="M9,13 L11,13 L11,15 L9,15 L9,13 Z M9,5 L11,5 L11,11 L9,11 L9,5 Z M9.99,0 C4.47,0 0,4.48 0,10 C0,15.52 4.47,20 9.99,20 C15.52,20 20,15.52 20,10 C20,4.48 15.52,0 9.99,0 Z"></path></g></svg>';return Q(a)}
function YKd(){return Q('<svg class="waffle-dataconnector-bigquery-icon" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><path fill="#000000" fill-rule="evenodd" d="M17.6210231,14.9676464 C17.7267041,14.964158 17.8336481,14.999598 17.9136667,15.0739664 L21.2187334,18.1431672 C21.3715333,18.2853017 21.3715333,18.5181274 21.2187334,18.6604475 L19.8908,19.8929813 C19.7375334,20.0356729 19.4867333,20.0356729 19.3334666,19.8929813 L16.0288667,16.8252043 C15.9483809,16.7504669 15.9100327,16.6511429 15.9138223,16.5530387 C14.5318646,17.5088871 12.8185327,18.0746254 10.962963,18.0746254 C6.38121025,18.0746254 2.66666667,14.6253786 2.66666667,10.3707987 C2.66666667,6.11585235 6.38121025,2.66666667 10.962963,2.66666667 C15.5447814,2.66666667 19.259325,6.11585235 19.2592593,10.3708597 C19.2592593,12.0936892 18.6501585,13.6844725 17.6210231,14.9676464 Z M10.9627632,16.1481946 C14.3991593,16.1481946 17.1851852,13.5615621 17.1851852,10.3706486 C17.1851852,7.17973497 14.3992258,4.59254616 10.9627632,4.59254616 C7.52630064,4.59254616 4.74074074,7.17967314 4.74074074,10.3706486 C4.74074074,13.561624 7.52630064,16.1481946 10.9627632,16.1481946 Z M6.81481481,10.3703704 L8.88888889,10.3703704 L8.88888889,14.0029401 C8.03391111,13.6464441 7.31942754,13.1505168 6.81481481,12.5594013 L6.81481481,10.3703704 Z M9.92592593,8.44442896 L12,8.44442896 L12,14.1665272 C11.6766072,14.200082 11.3475683,14.2222532 11.0093815,14.2222532 C10.6390341,14.2222532 10.2784063,14.1975885 9.92592593,14.1574203 L9.92592593,8.44442896 Z M13.044326,11.3333411 L15.1184,11.3333411 L15.1184,12.4901418 C14.6287957,13.0790718 13.9116201,13.5742789 13.044326,13.933362 L13.044326,11.3333411 Z"></path></g></svg>')}
function ZKd(){return Q('<svg class="waffle-dataconnector-plx-icon" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>Plx</title><defs><path d="M10.9418364,5.81385031 L14.4202032,5.81385031 L15.1116898,1.66493056 L18.8939326,1.66493056 L18.202446,5.81385031 L21.3350694,5.81385031 L21.3350694,8.92554012 L17.683831,8.92554012 L16.9923444,13.0744599 L21.3350694,13.0744599 L21.3350694,16.1861497 L16.4737294,16.1861497 L15.7822428,20.3350694 L12,20.3350694 L12.6914866,16.1861497 L9.21311982,16.1861497 L8.5216332,20.3350694 L4.73939043,20.3350694 L5.43087706,16.1861497 L2.66493056,16.1861497 L2.66493056,13.0744599 L5.94949203,13.0744599 L6.64097865,8.92554012 L2.66493056,8.92554012 L2.66493056,5.81385031 L7.15959362,5.81385031 L7.85108025,1.66493056 L11.633323,1.66493056 L10.9418364,5.81385031 Z M10.4232214,8.92554012 L9.73173479,13.0744599 L13.2101016,13.0744599 L13.9015882,8.92554012 L10.4232214,8.92554012 Z" id="dataconnector-plx-icon-path-1"></path></defs><g id="icons/db/PLX" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Group" transform="translate(0.000000, 1.000000)"><rect id="Rectangle" x="0" y="0" width="24" height="24"></rect><mask id="dataconnector-plx-icon-mask-2" fill="white"><use xlink:href="#dataconnector-plx-icon-path-1"></use></mask><g id="Combined-Shape"></g><g id="colors/Black---100" mask="url(#dataconnector-plx-icon-mask-2)" fill="#000000"><polygon id="Shape" points="0 0 24 0 24 24 0 24"></polygon></g></g></g></svg>')}
function $Kd(a){a=a||{};a=a.opacity;a='<svg class="waffle-dataconnector-menu-icon" fill="#000000" fill-opacity="'+S(null==a?1:a)+'" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/></svg>';return Q(a)}
function aLd(){return Q('<svg class="waffle-dataconnector-valid-icon" width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><path fill="#1E8E3E" fill-rule="evenodd" d="M10,0 C4.48,0 0,4.48 0,10 C0,15.52 4.48,20 10,20 C15.52,20 20,15.52 20,10 C20,4.48 15.52,0 10,0 Z M8,15 L3,10 L4.41,8.59 L8,12.17 L15.59,4.58 L17,6 L8,15 Z"></path></g></svg>')}
function bLd(){return Q('<svg class="waffle-dataconnector-info-icon" width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><path transform="rotate(180 10 10)" fill="#4285F4" fill-rule="evenodd" d="M9,13 L11,13 L11,15 L9,15 L9,13 Z M9,5 L11,5 L11,11 L9,11 L9,5 Z M9.99,0 C4.47,0 0,4.48 0,10 C0,15.52 4.47,20 9.99,20 C15.52,20 20,15.52 20,10 C20,4.48 15.52,0 9.99,0 Z M10,18 C5.58,18 2,14.42 2,10 C2,5.58 5.58,2 10,2 C14.42,2 18,5.58 18,10 C18,14.42 14.42,18 10,18 Z"></path></g></svg>')};function cLd(a){var b=Q;a='<div class="'+S("waffle-dataconnector-modal-header")+'"><div id="'+S(a.noa)+'" class="'+S("waffle-dataconnector-modal-title")+'" role="heading"></div><div class="'+S("waffle-dataconnector-modal-close-button")+'" tabindex="0" role="button">';var c=Q('<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><g fill="none" fill-rule="evenodd"><path d="M0,0 L18,0 L18,18 L0,18 L0,0 Z M0,0 L18,0 L18,18 L0,18 L0,0 Z"/><polygon fill="#000" points="14.53 4.53 13.47 3.47 9 7.94 4.53 3.47 3.47 4.53 7.94 9 3.47 13.47 4.53 14.53 9 10.06 13.47 14.53 14.53 13.47 10.06 9"/></g></svg>');
return b(a+c+'</div></div><div class="'+S("waffle-dataconnector-modal-body")+'"></div><div class="'+S("waffle-dataconnector-modal-footer")+'"></div>')};function e2(a,b){a=void 0===a?"":a;Sp.call(this,!1,b);this.Sb=a;this.C=new yq(void 0,dLd.getInstance());this.Ia(this.C);zk(this.C,"Close");this.Fb=null;this.mb=!0}q(e2,Sp);p=e2.prototype;
p.Da=function(){Sp.prototype.Da.call(this);var a=this.getId();Hh(this.$a(),"labelledby",a);Gh(this.$a(),"dialog");L(this.getElement(),"waffle-dataconnector-modal");this.Sb&&L(this.getElement(),this.Sb);vq(this.getElement(),cLd,{labelId:a});a=this.gr();L(a,"waffle-dataconnector-modal-bg");M(a,this.mb);this.C.rb(this.Ka("waffle-dataconnector-modal-close-button"));this.Fb&&eLd(this)};
p.Ja=function(){Sp.prototype.Ja.call(this);fLd(this);this.getHandler().V(this.C,"action",this.l8);this.getHandler().V(this.$a(),["keydown","keypress"],this.bLb)};p.Pb=function(){return this.Gb("waffle-dataconnector-modal-body")};function gLd(a){return a.Gb("waffle-dataconnector-modal-footer")}function hLd(a,b){a.Fb=b;a.Qb()&&eLd(a)}function fLd(a){var b=a.va(),c=a.gr(),d=a.$o;a.mb?(d&&b.Ms(d,a.getElement()),b.Ms(c,a.getElement())):(b.zf(d),b.zf(c))}p.l8=function(){b8a.gc()};p.zZ=function(){b8a.gc()};
p.bLb=function(a){"keydown"==a.type?27==a.keyCode?this.zZ():9==a.keyCode&&a.shiftKey&&a.target==this.getElement()&&kDa(this):this.aIa(a)};function eLd(a){Qi.getInstance().setContent(a.Ka("waffle-dataconnector-modal-title"),a.Fb)}p.aIa=ca();function dLd(){}q(dLd,xq);dLd.prototype.qp=n("waffle-dataconnector-modal-close-button");ua(dLd);function f2(a,b){e2.call(this,a,b);this.H=zf()}q(f2,e2);p=f2.prototype;p.getResult=function(){return this.H.C};p.resolve=function(a){this.H.resolve(a)};p.reject=function(a){this.H.reject(a)};p.Ha=function(){e2.prototype.Ha.call(this);this.H.reject()};p.zZ=function(){this.reject()};p.l8=function(){this.reject()};function iLd(a,b){f2.call(this,"waffle-dataconnector-bigqueryquerysettingsdialog",b);hLd(this,this.va().Da("SPAN",void 0,O(YKd),"BigQuery query settings"));this.J=a.C;this.D=new KT;this.Ia(this.D);this.D.Id("waffle-dataconnector-bigqueryquerysettingsdialog-project-select");zk(this.D,"Billing project");this.F=new zT("Write query");this.Ia(this.F);this.F.Id("waffle-dataconnector-bigqueryquerysettingsdialog-continue-button")}q(iLd,f2);
iLd.prototype.Da=function(){f2.prototype.Da.call(this);vq(this.Pb(),SKd);vq(gLd(this),TKd);this.D.render(this.Ka("waffle-dataconnector-bigqueryquerysettingsdialog-project-select-wrapper"));this.F.render(this.Ka("waffle-dataconnector-bigqueryquerysettingsdialog-continue-button-wrapper"))};
iLd.prototype.Ja=function(){f2.prototype.Ja.call(this);if(0==this.J.length){this.D.Pa(!1);var a=this.D;a.F="No billing projects";a.QD();a=this.va();a.appendChild(this.Ka("waffle-dataconnector-bigqueryquerysettingsdialog-project-section"),a.Da("DIV","waffle-dataconnector-bigqueryquerysettingsdialog-error-caption","Configure a project in the Google Cloud Platform console to continue"))}else{a=this.J;for(var b=0;b<a.length;b++){var c=a[b];this.D.Ad(new Rk(c.getName(),c.getId()))}this.getHandler().V(this.F,
"action",this.O).V(this.D,"change",this.L)}this.L()};iLd.prototype.L=function(){this.F.Pa(null!=this.D.Ve())};iLd.prototype.O=function(){this.resolve(jLd(this))};function jLd(a){var b=a.D.Ve().getValue();return new RKd(a.J,b)};function kLd(){this.C=null;this.$c=new $u}kLd.prototype.Jf=da("C");function lLd(a,b){a.$c.Nh=!0;var c=im(a.$c.serialize(b));return new tf(function(b,e){Ct(Lr(ru(Um(Du(Mr(a.C.bf("/dbx/createConnection"),"POST")),1).setTimeout(3E4),["data",c]),function(c){a.$c.Nh=!1;c=a.$c.Bd(H1.Ca(),c.hf());c.qr()?e(c):b(c)}),function(){var a=new H1;X(a,1,!1);X(a,3,1);e(a)}).He()})}
function mLd(a,b){a.$c.Nh=!0;var c=a.$c.serialize(b);return new tf(function(b,e){g2(a,"/dbx/createQuery",c,function(c){a.$c.Nh=!1;c=a.$c.Bd(J1.Ca(),c.hf());3==c.Xj().getState()?e(c):b(c)},function(){var a=new J1,b=new bv;X(a,1,b);b.Rb(3);X(b,2,1);e(a)})})}function nLd(a,b){a.$c.Nh=!0;var c=im(a.$c.serialize(b));return new tf(function(b,e){Ct(Lr(ru(Um(Du(Mr(a.C.bf("/dbx/importConnection"),"POST")),1).setTimeout(3E4),["data",c]),function(){b()}),function(){e()}).He()})}
function oLd(a,b){a.$c.Nh=!0;var c=a.$c.serialize(b);return new tf(function(b,e){g2(a,"/dbx/previewQuery",c,function(c){a.$c.Nh=!1;c=a.$c.Bd(L1.Ca(),c.hf());3==c.Xj().getState()?e(c):b(c)},function(){var a=new L1,b=new bv;X(a,1,b);b.Rb(3);X(b,2,1);e(a)})})}
function pLd(a,b){a.$c.Nh=!0;var c=a.$c.serialize(b);return new tf(function(d,e){g2(a,"/dbx/refreshSheets",c,function(b){a.$c.Nh=!1;b=a.$c.Bd(N1.Ca(),b.hf());Wu(b,1).some(function(a){return 3==a.Xj().getState()})?e(b):d(b)},function(){var a=new N1,c=new bv;c.Rb(3);X(c,2,1);Wu(b,1).forEach(function(b){var d=new O1;X(d,1,b);X(d,2,c);Uu(a,1,d)});e(a)})})}
function qLd(a,b){a.$c.Nh=!0;var c=a.$c.serialize(b);return new tf(function(b,e){g2(a,"/dbx/editQuery",c,function(c){a.$c.Nh=!1;c=a.$c.Bd(T1.Ca(),c.hf());3==c.Xj().getState()?e(c):b(c)},function(){var a=new T1,b=new bv;X(a,1,b);b.Rb(3);X(b,2,1);e(a)})})}function rLd(a){return new tf(function(b,c){Ct(Lr(Vm(Um(Du(Mr(a.C.bf("/dbx/listConnections"),"GET")),1).setTimeout(3E4),"currentWorkbookOnly","true"),function(c){a.$c.Nh=!1;c=a.$c.Bd(CKd.Ca(),c.hf());b(c)}),c).He()})}
function sLd(a,b){a.$c.Nh=!0;var c=a.$c.serialize(b);return new tf(function(b,e){g2(a,"/dbx/getTables",c,function(c){a.$c.Nh=!1;c=a.$c.Bd(Q1.Ca(),c.hf());c.qr()?e(c):b(c)},function(){var a=new Q1;X(a,1,!1);X(a,2,1);e(a)})})}function tLd(a,b){a.$c.Nh=!0;var c=a.$c.serialize(b);return new tf(function(b,e){g2(a,"/dbx/getColumns",c,function(c){a.$c.Nh=!1;c=a.$c.Bd(W1.Ca(),c.hf());c.qr()?e(c):b(c)},function(){var a=new W1;X(a,1,!1);X(a,2,1);e(a)})})}
function uLd(a,b){a.$c.Nh=!0;var c=im(a.$c.serialize(b));return new tf(function(b,e){Ct(Lr(ru(Um(Du(Mr(a.C.bf("/dbx/getQuery"),"POST")),1).setTimeout(3E4),["data",c]),function(c){a.$c.Nh=!1;c=a.$c.Bd(b2.Ca(),c.hf());W(c,1)?b(c):e("Query is not found")}),e).He()})}
function vLd(a,b){a.$c.Nh=!0;var c=a.$c.serialize(b);return new tf(function(b,e){g2(a,"/dbx/getBigQueryProjects",c,function(c){a.$c.Nh=!1;c=a.$c.Bd(Z1.Ca(),c.hf());c.qr()&&e(c);b(c)},function(){var a=new L1,b=new bv;X(a,1,b);b.Rb(3);X(b,2,1);e(a)})})}function wLd(a,b){a.$c.Nh=!0;var c=a.$c.serialize(b);return new tf(function(b,e){g2(a,"/dbx/getDatasets",c,function(c){a.$c.Nh=!1;c=a.$c.Bd(Y1.Ca(),c.hf());b(c)},function(){var a=new Y1;X(a,1,!1);X(a,2,1);e(a)})})}
function g2(a,b,c,d,e){Ct(Lr(ru(Um(Du(Mr(a.C.bf(b),"POST")),1).setTimeout(3E4),["data",im(c)]),d),e).He()}kLd.prototype.Xj=function(a){var b=this;this.$c.Nh=!0;var c=this.$c.serialize(a);return new tf(function(a,e){g2(b,"/dbx/getExecutionStatus",c,function(c){b.$c.Nh=!1;c=b.$c.Bd(d2.Ca(),c.hf());a(c)},function(){e()})})};ua(kLd);function xLd(a,b){this.D=a;this.C=b}function yLd(a,b,c){var d=new P1;X(d,1,a.C);X(d,2,b);X(d,3,c);return sLd(a.D,d).then(function(a){return Wu(a,4)})}function zLd(a,b){var c=new V1;X(c,1,a.C);X(c,2,b);return tLd(a.D,c).then(function(a){return Wu(a,4)})}function ALd(a,b){var c=new X1;X(c,2,b);X(c,1,a.C);return wLd(a.D,c).then(function(a){return Wu(a,4)})}function BLd(a){var b=new JKd;X(b,1,a.C);return vLd(a.D,b).then(function(a){return Wu(a,4)})};function CLd(){var a='<div class="'+S("waffle-dataconnector-bigquery-welcome-screen-content")+'"><div class="waffle-dataconnector-bigquery-welcome-screen-banner"></div><p>';a=a+"Query your data from BigQuery directly in Google Sheets. You can filter your data, build charts and pivot tables on top of it, collaborate with other users, and much more. Click the button below to connect to your BigQuery data."+('</p><div class="'+S("waffle-dataconnector-bigquery-welcome-screen-continue-button-wrapper")+
'"></div></div>');return Q(a)}function DLd(){var a='<div class="'+S("waffle-dataconnector-bigquery-welcome-screen-footer")+'">';return Q(a+"Your use of BigQuery is governed by the Google Cloud Platform Terms of Service.</div>")};function ELd(a){f2.call(this,"waffle-dataconnector-bigquery-welcome-screen",a);hLd(this,"BigQuery data connection");this.D=new zT("Get Started");this.Ia(this.D);this.D.Id("waffle-dataconnector-bigquery-welcome-screen-continue-button")}q(ELd,f2);ELd.prototype.Da=function(){f2.prototype.Da.call(this);vq(this.Pb(),CLd);vq(gLd(this),DLd);this.D.render(this.Ka("waffle-dataconnector-bigquery-welcome-screen-continue-button-wrapper"))};
ELd.prototype.Ja=function(){var a=this;f2.prototype.Ja.call(this);this.getHandler().V(this.D,"action",function(){return a.resolve(!0)})};ELd.prototype.zZ=function(){this.resolve(!1)};ELd.prototype.l8=function(){this.resolve(!1)};function h2(a,b){Tp.call(this,"waffle-dataconnector-prompt",a,b);this.L=zf();eq(this,null);dq(this,!0);this.C=new KR("Continue");this.Ia(this.C);this.J=new LR("Cancel");this.Ia(this.J);this.O=[]}q(h2,Tp);p=h2.prototype;p.Id=function(a){this.O.push(a);var b=this.getElement();b&&L(b,a)};p.getResult=function(){return this.L.C};p.resolve=function(a){this.L.resolve(a)};p.reject=function(){this.L.reject()};p.Da=function(){Tp.prototype.Da.call(this);var a=Yp(this);this.J.render(a);this.C.render(a);M(a,!0)};
p.Ja=function(){var a=this;Tp.prototype.Ja.call(this);Oh(this.$a(),this.O);this.getHandler().V(this.J,"action",function(){return a.reject()})};p.setVisible=function(a){Tp.prototype.setVisible.call(this,a);a||this.reject()};p.Ha=function(){Tp.prototype.Ha.call(this);this.reject()};function FLd(a,b){h2.call(this,a,b)}q(FLd,h2);FLd.prototype.Ja=function(){var a=this;h2.prototype.Ja.call(this);this.getHandler().V(this.C,"action",function(){return a.resolve(0)})};function GLd(a){var b='<div class="'+S("waffle-dataconnector-connectionconfirmationscreen-content")+'"><div class="'+S("waffle-dataconnector-connectionconfirmationscreen-access-security")+'" tabindex="0"><h3>';b+="Access &amp; security.";var c="";c=a.aLa?c+"<p>Plx is an internal-only connection that's visible only to Googlers.</p><p>People outside of google.com will see Plx as an unnamed connection.":c+"<p>Database passwords and user IDs are not shared amongst collaborators.";c=Q(c+"</p>");b+="</h3>"+
c+'</div><div class="'+S("waffle-dataconnector-connectionconfirmationscreen-data-visibility")+'" tabindex="0"><h3>';b+="Who can see data &amp; queries";c="<p>Users who can view the spreadsheet will be able to see the data.</p>";c=a.aLa?c+"<p>Google users who can edit the spreadsheet will be able to view and modify the query.</p><p>Users outside of google.com who can view the spreadsheet will be able to view the data, but will not be able to view or refresh the query.":c+"<p>Users who can edit the spreadsheet can view and modify the query only after they've signed into the database.";
a=Q(c+"</p>");return Q(b+("</h3>"+a+"</div></div>"))};function HLd(){return Q('<div class="'+S("waffle-dataconnector-dialog-progress-message")+'"><div class="'+S("waffle-dataconnector-dialog-progress-label")+'"></div><div class="'+S("waffle-dataconnector-dialog-progress-bar")+'"></div></div>')};function ILd(a){JP.call(this,a);this.F=!1}q(ILd,JP);ILd.prototype.Da=function(){JP.prototype.Da.call(this);L(this.getElement(),"waffle-progress-bar");Rh(this.getElement(),"waffle-indeterminate-progress-bar",this.F)};function JLd(a,b){a.F!=b&&(a.F=b,a.getElement()&&Rh(a.getElement(),"waffle-indeterminate-progress-bar",b))}ILd.prototype.eb=function(a){JLd(this,!1);JP.prototype.eb.call(this,a)};
function KLd(a,b){JLd(a,!1);var c={width:a.getValue()+"%"},d={width:b+"%"};c=new mq(a.Ka("progress-bar-thumb"),1,c,d,{zg:"width",duration:1,timing:"ease-in",Vl:0});c.Uc("end",function(){JP.prototype.eb.call(a,b)});c.play()};function i2(a,b){Tp.call(this,"waffle-dataconnector-dialog",a,b);eq(this,null);this.qz(!1);dq(this,!0);this.fb=[];this.sb=new KR("Ok");this.Ia(this.sb);this.jb=new LR("Cancel");this.Ia(this.jb);this.mb=new uj;this.Sb=Sj(new Rj,1).build();this.Bb=this.va().Da("DIV","waffle-dataconnector-dialog-error-message");this.Fb=this.va().Da("DIV","waffle-dataconnector-dialog-info-message");this.$b=O(HLd);this.L=new ILd;JLd(this.L,!0);this.Ia(this.L)}q(i2,Tp);function LLd(a,b,c){Aj(a.mb,a.sb,b,Cj,c,a.Sb)}
function MLd(a){Aj(a.mb,a.jb,b8a,Cj,void 0,a.Sb)}function NLd(a){var b=["waffle-dataconnector-queryeditor"];a.Qb()&&(Qh(a.$a(),a.fb),Oh(a.$a(),b));a.fb=b}
i2.prototype.Da=function(){Tp.prototype.Da.call(this);Oh(this.$a(),this.fb);var a=Yp(this),b=this.va().Da("DIV","waffle-dataconnector-dialog-button-wrapper");a.appendChild(b);this.jb.render(b);this.sb.render(b);M(a,!0);b=this.va().Da("DIV","waffle-dataconnector-dialog-message-container",this.Bb,this.Fb,this.$b);a.appendChild(b);this.L.render(this.Ka("waffle-dataconnector-dialog-progress-bar"));vq(oDa(this),eCc)};
i2.prototype.Ja=function(){Tp.prototype.Ja.call(this);j2(this);Hh(this.Bb,"live","polite");Hh(this.Fb,"live","polite");Hh(this.$b,"live","polite")};i2.prototype.qz=function(a){Tp.prototype.qz.call(this,a);$p(this,this.XJ?0:.6)};function OLd(a,b){a=a.Ka("waffle-dataconnector-dialog-error-message");yd(a,b||rd(""));M(a,!!b)}function PLd(a,b){a=a.Ka("waffle-dataconnector-dialog-info-message");yd(a,b||rd(""));M(a,!!b)}
function QLd(a,b,c){ze(a.Ka("waffle-dataconnector-dialog-progress-label"),b);null!=c&&KLd(a.L,c);M(a.Ka("waffle-dataconnector-dialog-progress-message"),!0)}function j2(a){OLd(a,null);PLd(a,null);a.L.eb(0);JLd(a.L,!0);M(a.Ka("waffle-dataconnector-dialog-progress-message"),!1)};function RLd(a,b,c,d){i2.call(this,c,d);Up(this,"Connected");this.F=a;this.C=b;MLd(this);LLd(this,i8a)}q(RLd,i2);RLd.prototype.Da=function(){i2.prototype.Da.call(this);vq(this.Pb(),GLd,{aLa:2==this.C})};function SLd(a){return Q('<div class="'+S("waffle-dataconnector-connectioncard")+'" role="button" tab-index="0"><div class="'+S("waffle-dataconnector-connectioncard-icon")+'"></div><div class="'+S("waffle-dataconnector-connectioncard-body")+'"><div class="'+S("waffle-dataconnector-connectioncard-header")+'">'+P(a.iP)+"</div></div></div>")};function TLd(a,b,c,d){this.Kc=a;this.D=b;this.Fc=c;this.C=d}TLd.prototype.getName=g("D");TLd.prototype.getId=g("Kc");TLd.prototype.getType=g("Fc");function ULd(){this.Fc=this.Kc=this.D=null;this.C=!1}ULd.prototype.Ke=function(a){this.D=a;return this};ULd.prototype.vf=function(a){this.Kc=a;return this};ULd.prototype.setType=function(a){this.Fc=a;return this};function VLd(a){a.C=!0;return a}ULd.prototype.build=function(){return new TLd(this.Kc,this.D,this.Fc,this.C)};function WLd(){}q(WLd,xq);WLd.prototype.Da=function(a){a=a.kb();var b=O(SLd,{iP:a.getName()});Rh(b,"waffle-dataconnector-connectioncard-authenticated",a.C);return b};WLd.prototype.mc=n("waffle-dataconnector-connectioncard");ua(WLd);function XLd(a,b){yq.call(this,void 0,WLd.getInstance(),b);this.Jc(a);this.mf(8,!0)}q(XLd,yq);XLd.prototype.Jc=function(a){yq.prototype.Jc.call(this,a)};function YLd(){return Q('<div class="'+S("waffle-dataconnector-connectionmanager-content")+'"><div class="'+S("waffle-dataconnector-connectionmanager-connections")+'"><div class="'+S("waffle-dataconnector-connectionmanager-authorized")+'"></div></div></div>')};function ZLd(a,b){i2.call(this,a,b);Up(this,"Managed connections");this.C=new fr;this.Ba(this.C);this.F=new N(this.va());this.Ia(this.F);this.J=new LT;this.Ia(this.J);LLd(this,sA);MLd(this)}q(ZLd,i2);ZLd.prototype.Da=function(){i2.prototype.Da.call(this);vq(this.Pb(),YLd)};
ZLd.prototype.Ja=function(){i2.prototype.Ja.call(this);this.J.render(this.Ka("waffle-dataconnector-connectionmanager-content"));this.F.rb(this.Ka("waffle-dataconnector-connectionmanager-connections"));this.getHandler().V(this.F,"action",this.O).V(this.C,"select",this.R);$Ld(this,!0)};function $Ld(a,b){Rh(a.$a(),"waffle-dataconnector-connectionmanager-loading",b);MT(a.J,b)}
function aMd(a,b){var c=a.Ka("waffle-dataconnector-connectionmanager-authorized");b=ia(b);for(var d=b.next();!d.done;d=b.next())d=new XLd(d.value),a.F.Ia(d),d.render(c)}ZLd.prototype.O=function(a){a.stopPropagation();gr(this.C,a.target)};ZLd.prototype.R=function(){var a=(a=(a=this.C.Ve())&&a)&&a.kb();sA.eb(a)};function bMd(a){var b='<div class="'+S("waffle-dataconnector-bar")+'"><div class="'+S("waffle-dataconnector-bar-header")+'" tabindex="0" aria-label="',c="Data connection: "+S(a.iP);b+=Hq(c);b+='">'+P(a.iP)+'</div><div class="'+S("waffle-dataconnector-bar-editquery-button-wrapper")+'"></div><div class="'+S("waffle-dataconnector-bar-error-button-wrapper")+'"></div><div class="'+S("waffle-dataconnector-bar-timestamp")+'" tabindex="0"></div><div class="'+S("waffle-dataconnector-bar-refresh-button-wrapper")+
'"></div><div class="'+S("waffle-dataconnector-bar-progress")+'"><div class="'+S("waffle-dataconnector-bar-spinner")+'"></div><span class="'+S("waffle-dataconnector-bar-progress-message")+'"></span></div></div>';return Q(b)};function cMd(){A.call(this);this.C={};this.$c=new $u}q(cMd,A);function dMd(a,b,c){a.C[b]=c}function eMd(a,b){var c=ritz_api.DbxApi.getExecutionStatusForQuery(b);c=null==c?null:a.$c.Bd(bv.Ca(),c);var d=a.C[b];return d?c&&d.getToken()==c.getToken()?(yc(a.C,b),c):d:c};function fMd(a,b,c,d,e){hU.call(this,e);this.R=a;this.O=new uj;this.Ba(this.O);this.Aa=b;this.Ea=c;this.C=new gU;this.Ia(this.C);this.C.Id("waffle-dataconnector-bar-editquery-button");Aj(this.O,this.C,d8a,Cj);this.H=new gU;this.Ia(this.H);this.H.Id("waffle-dataconnector-bar-refresh-button");Aj(this.O,this.H,k8a,Cj);this.D=new gU(this.va().Da("SPAN",void 0,O(XKd,{color:"#FF8897"}),"Error in query execution"));this.Ia(this.D);this.D.Id("waffle-dataconnector-bar-error-button");Aj(this.O,this.D,h8a);
this.La=new gMd;this.Ga=d}q(fMd,hU);p=fMd.prototype;p.Dta=function(){return O(bMd,{iP:Vb(this.R,64)})};p.Ja=function(){hU.prototype.Ja.call(this);this.C.render(this.Ka("waffle-dataconnector-bar-editquery-button-wrapper"));this.H.render(this.Ka("waffle-dataconnector-bar-refresh-button-wrapper"));this.D.render(this.Ka("waffle-dataconnector-bar-error-button-wrapper"));this.refresh()};p.Gja=n("waffle-dataconnector-bar-wrapper");p.focus=function(){this.$a().focus()};
p.refresh=function(){var a=eMd(this.Ga,this.Aa),b=a?a.getState():2;switch(b){case 4:case 1:a=W(a,5);hMd(this,!0,!1);null!=a?(a="Executing query - "+(a+"%"),ze(this.Ka("waffle-dataconnector-bar-progress-message"),a)):ze(this.Ka("waffle-dataconnector-bar-progress-message"),"Executing query");break;case 2:hMd(this,!1,!1);break;case 3:hMd(this,!1,!0);break;default:xmc("Unrecognized execution state: "+b)}};
function hMd(a,b,c){Rh(a.$a(),"waffle-dataconnector-bar-executing",b);var d=e8a.isEnabled();b?(a.C.setVisible(!1),a.H.setVisible(!1),a.D.setVisible(!1)):(a.C.setVisible(d),a.H.setVisible(d),a.D.setVisible(d&&c));M(a.Ka("waffle-dataconnector-bar-timestamp"),!b);b||(c=a.Ka("waffle-dataconnector-bar-timestamp"),d=ritz_api.DbxApi.getLastExecutionTimeForSheet(a.Ea),0>=d?ze(c,""):(d="Last refreshed "+a.La.format(d),ze(c,d)));M(a.Ka("waffle-dataconnector-bar-progress"),b)}
function gMd(){this.C=new qs(1);this.D=new qs(ts.MONTH_DAY_MEDIUM);this.F=new qs(7)}gMd.prototype.format=function(a){a=new Date(a);var b=new Date,c;0<b.getFullYear()-a.getFullYear()?c=this.C.format(a):a.getMonth()==b.getMonth()&&a.getDate()==b.getDate()?c="Today":c=this.D.format(a);a=this.F.format(a);return c+(", "+a)};function iMd(a,b,c,d){iU.call(this,"waffle-connectionbar-id",d);var e=this;OMc(this,function(){e.C.setVisible(!0,!0);qP()});this.H=b.Jb;this.J=a;this.L=b;this.F=c;this.D=null;this.getHandler().V(this.F,"va",this.rKb).V(this.F,"wa",this.sKb).V(this.F,"Oa",this.refresh).V(this.L,"db-execution-status-updated",this.qKb)}q(iMd,iU);p=iMd.prototype;p.Ju=function(){iU.prototype.Ju.call(this);this.HB()};p.refresh=function(){jMd(this)};p.tQ=g("D");
function jMd(a){var b=a.F.C.C;if(b&&MF(b)){var c=b.H,d,e=W(a.F.C.C.H,2);e=Xpb(a.H,e);2!=W(e,3)||Qkc()?d=e.getName():d="Database connection";a.D?(e=a.D,e.R!=d&&(e.R=d,e.Qb()&&ze(e.Ka("waffle-dataconnector-bar-header"),Vb(d,64))),c=W(c,1),a.D.Aa=c,b=b.Ib(),a.D.Ea=b,a.D.refresh(),a.D.rS()||(a.D.setVisible(!0,!0),qP())):(a.D=new fMd(d,W(c,1),b.Ib(),a.J),a.show())}}p.rKb=function(){jMd(this)};p.sKb=function(){this.D&&(this.D.setVisible(!1,!0),qP())};
p.qKb=function(a){a.D&&0!=a.D.length&&this.D&&db(a.D,this.D.Aa)&&this.D.refresh()};function k2(a,b){N.call(this,b);this.D=new $T(a,this.va());this.Ia(this.D);this.L=!1}q(k2,N);p=k2.prototype;p.Od=function(a){this.L=a;this.D.getHeader().Bc(a)};p.refresh=function(){this.D.getHeader().Bc(this.L)};p.focus=function(){Ui(this.D.getHeader()).focus()};p.setContent=function(a){this.D.setContent(a)};p.Pb=function(){return this.D.Pb()};p.Da=function(){this.Lb(this.va().Da("DIV","waffle-dataconnector-queryeditor-collapsible-sidebar-widget"));this.D.render(this.$a())};
p.Ja=function(){N.prototype.Ja.call(this);this.getHandler().V(this,["aftershow","afterhide"],function(a){return a.stopPropagation()}).V(this.D.getHeader(),["charteditor-collapsiblesectionheader-opened","charteditor-collapsiblesectionheader-closed"],this.dxb)};p.dxb=function(a){a.stopPropagation();this.L=this.D.getHeader().isChecked();this.dispatchEvent(Ji(64,this.L))};function kMd(a,b,c){b=c||b;return Q('<div class="'+S("waffle-dataconnector-draggablebar")+'">'+lMd(null,b)+"</div>")}function lMd(){return Q('<div class="'+S("waffle-dataconnector-draggablebar-handle")+'" tabindex="0"><div class="'+S("waffle-dataconnector-draggablebar-handle-icon")+'"></div></div>')};function mMd(a,b){N.call(this,b);this.D=a;this.Sc=this.F=null;this.J=new sk;this.Ba(this.J);this.J.Qd(this);this.C=0;this.H=null}q(mMd,N);p=mMd.prototype;p.Da=function(){this.Lb(O(kMd))};p.Xc=function(a){this.Lb(a);L(this.$a(),"waffle-dataconnector-draggablebar");vq(a,lMd)};
p.Ja=function(){this.F=this.Ka("waffle-dataconnector-draggablebar-handle");this.Sc=new Lp(this.$a(),this.F);this.Ba(this.Sc);this.Sc.C=!0;tk(this.J,this.F);this.getHandler().V(this.Sc,"start",this.eLb).V(this.Sc,"drag",this.DMb).V(this.Sc,"end",this.dLb);"vertical"==this.D?(vi(this.$a(),8),L(this.$a(),"waffle-dataconnector-draggablebar-vertical")):(wi(this.$a(),8),L(this.$a(),"waffle-dataconnector-draggablebar-horizontal"));this.H&&Lh(this.F,this.H)};p.ad=n(8);p.Pa=function(a){this.Sc.Pa(a)};
p.eLb=function(){Pp(this.Sc,nMd(this));this.dispatchEvent("Te")};p.DMb=function(a){this.C="vertical"==this.D?a.left:a.top;this.dispatchEvent("Re")};p.dLb=function(){this.dispatchEvent("Se")};function nMd(a){var b=a.$a().parentElement.getBoundingClientRect(),c=b.height;b=b.width;"horizontal"==a.D?(b=0,c-=a.ad()):(c=0,b-=a.ad());return new Yh(0,0,b,c)};function oMd(a,b){var c=b.getErrorCode(),d=W(b,3);switch(c){case 20:return pMd(a,d);case 14:return l2('Update parameter "'+(W(b,6).toUpperCase()+'" to reference a cell in the current workbook and try again'));case 15:return l2('Update the cell referenced by parameter "'+(W(b,6).toUpperCase()+'" to be text or a number'));case 16:return l2("Select a parameter name you haven't used before");case 13:return l2('Define your parameter "'+(W(b,6).toUpperCase()+'" and try again'));case 6:return I(H(),"docs-idu")?
(a=new bp,b=a.De("span",{"class":"waffle-dataconnector-error-message"})+("Query timed out. "+(a.De("a",{href:"https://sites.google.com/corp/google.com/sheets-dataconnectors-help/error-messages",target:"_blank"})+("Learn more"+(a.Je("a")+a.Je("span"))))),a=a.format(b)):a=qMd("Query timed out",d),a;case 8:return I(H(),"docs-idu")?(a=new bp,b="Results exceed "+(rMd+(" rows. Update query and run again. "+(a.De("a",{href:"https://sites.google.com/corp/google.com/sheets-dataconnectors-help/error-messages",
target:"_blank"})+("Learn more"+a.Je("a"))))),a=a.format(b),a=l2(a)):a=qMd(sMd,d),a;case 18:return l2("The query returns an ARRAY or a STRUCT type, which is currently not supported.");case 9:return a=new bp,b="Go to Plx to specify an engine other than 'Auto' and try again. "+(a.De("a",{href:"https://sites.google.com/corp/google.com/sheets-dataconnectors-help/error-messages",target:"_blank"})+("Learn more"+a.Je("a"))),a=a.format(b),l2(a);case 19:return l2("The query is already in execution.");case 11:return l2("There is no sheet associated with this query.")}return tMd(d)}
function uMd(a){var b=new bp;a=(new ys("To execute this query, {startLink}sign in to your Google account{endLink}")).format({startLink:b.De("a",{href:"#",id:a}),endLink:b.Je("a")});return b.format(a)}function pMd(a,b){if(!b)return tMd(b);switch(a){case 2:return l2("Plx error: "+b);case 3:return l2("BigQuery error: "+b);default:return l2("Database error: "+b)}}function tMd(a){return qMd("Something's wrong. Please try again later",a)}var rMd=(new ws(1)).format(1E4),sMd="Results exceed "+(rMd+" rows. Update query and run again.");
function l2(a){return vd("span",{"class":"waffle-dataconnector-error-message"},a)}function qMd(a,b){var c=new bp;b&&(a=a+": "+b);return l2(c.format(a))};function vMd(){var a='<div class="'+S("waffle-dataconnector-textarea-editor")+'"><div class="'+S("waffle-dataconnector-textarea-editor-textareawrapper")+'"><div class="'+S("waffle-dataconnector-textarea-editor-overlay")+'"><div class="'+S("waffle-dataconnector-textarea-editor-overlay-message")+'"></div></div><textarea class="'+S("waffle-dataconnector-textarea-editor-textarea")+'" spellcheck="false" aria-label="';a+=Hq("Enter your query");a+='"></textarea><div class="'+S("waffle-dataconnector-textarea-editor-linegutter")+
'"><div class="'+S("waffle-dataconnector-textarea-editor-linenumber-container")+'"></div></div></div></div>';return Q(a)};function m2(a){N.call(this,a);this.Vd=!0}q(m2,N);m2.prototype.J=function(){this.dispatchEvent("Ve")};m2.prototype.Pa=function(a){a!=this.Vd&&(this.Vd=a,this.Qb()&&wMd(this))};m2.prototype.isEnabled=g("Vd");function xMd(a,b){a=void 0===a?"":a;m2.call(this,b);this.F=this.C=null;this.H=new LT;this.Ia(this.H);this.D=a}q(xMd,m2);xMd.prototype.Da=function(){this.Lb(O(vMd))};
xMd.prototype.Ja=function(){var a=this;m2.prototype.Ja.call(this);this.C=this.Ka("waffle-dataconnector-textarea-editor-textarea");this.C.value=this.D;this.F=new Ar(this.C);this.Ba(this.F);this.getHandler().V(this.C,"focus",function(){return yMd(a,!0)}).V(this.C,"blur",function(){return yMd(a,!1)}).V(this.C,"scroll",this.L).V(this.F,"input",this.J);this.H.render(this.Ka("waffle-dataconnector-textarea-editor-textareawrapper"));wMd(this);zMd(this,!1)};
xMd.prototype.J=function(){m2.prototype.J.call(this);AMd(this)};function wMd(a){a.C.disabled=!a.isEnabled();Rh(a.$a(),"waffle-dataconnector-textarea-editor-disabled",!a.isEnabled());MT(a.H,!1)}function BMd(a){return a.Qb()?a.C.value:a.D}function zMd(a,b){M(a.Ka("waffle-dataconnector-textarea-editor-overlay"),b)}function yMd(a,b){Rh(a.$a(),"waffle-dataconnector-textarea-editor-focused",b)}function n2(a,b){a.Qb()?(a.C.value=b,wMd(a),AMd(a)):a.D=b}
function AMd(a){var b=BMd(a).split(/\r?\n/).length,c=a.Ka("waffle-dataconnector-textarea-editor-linenumber-container"),d=c.childNodes;if(b<d.length)for(;d.item(b);)c.removeChild(d.item(b));else if(b>d.length)for(d=d.length+1;d<=b;d++)c.appendChild(CMd(a,d))}function CMd(a,b){return a.va().Da("DIV","waffle-dataconnector-textarea-editor-linenumber",""+b)}xMd.prototype.L=function(){var a=-this.C.scrollTop;ji(this.Ka("waffle-dataconnector-textarea-editor-linenumber-container"),0,a)};function DMd(){return Q('<div class="'+S("waffle-dataconnector-newqueryeditor-sidebar")+'"></div><div class="'+S("waffle-dataconnector-newqueryeditor-main")+'"><div class="'+S("waffle-dataconnector-newqueryeditor-editor-pane")+'"></div><div class="'+S("waffle-dataconnector-newqueryeditor-preview-resize-bar")+'"></div><div class="'+S("waffle-dataconnector-newqueryeditor-preview-pane")+'"></div></div>')}
function EMd(a,b,c){b=c||b;return Q('<div class="'+S("waffle-dataconnector-newqueryeditor-footer")+'"><div class="'+S("waffle-dataconnector-newqueryeditor-preview-button-wrapper")+'"></div><div class="'+S("waffle-dataconnector-newqueryeditor-footer-message-container")+'">'+P(WKd(null,b))+'<div class="'+S("waffle-dataconnector-newqueryeditor-footer-message")+'" aria-live="polite"></div></div><div class="'+S("waffle-dataconnector-newqueryeditor-insert-button-wrapper")+'"></div></div>')};function FMd(a){a=a.sUb;var b='<div class="'+S("waffle-dataconnector-query-parameter-prompt-input-container")+'"></div>';a&&(b+='<div class="'+S("waffle-dataconnector-query-parameter-prompt-toggle-row")+'"><div class="'+S("waffle-dataconnector-query-parameter-prompt-toggle-label")+'">',b+="Reference cell</div></div>");return Q(b)};function GMd(a){jU.apply(this,arguments)}q(GMd,jU);GMd.prototype.getValue=function(){return this.C.getValue()};GMd.prototype.m1=function(a){this.C.eb(a);return!0};function HMd(a,b){e2.call(this,"waffle-dataconnector-query-parameter-prompt",b);hLd(this,"Query Parameter");this.Sc=null;this.mb=!1;this.Qb()&&fLd(this);this.J=new KR;this.Ba(this.J);this.J.Id("waffle-dataconnector-query-parameter-prompt-primary-button");this.H=new GMd("text","Name","float","",void 0);this.Ia(this.H);this.H.Id("waffle-dataconnector-query-parameter-prompt-name-field");this.H.qa=!0;this.F=new GMd("text","Value","float","",void 0);this.Ia(this.F);this.F.Id("waffle-dataconnector-query-parameter-prompt-value-field");
this.F.qa=!0;b=this.va();this.L=new yq(O(ZLc),Ri(xq,"waffle-dataconnector-query-parameter-prompt-rangepicker"),b);b=this.F;var c=this.L;C(b.Aa);b.Aa=c;b.Qb()&&b.Aa&&b.Aa.render(b.Ka("waffle-material-labeledinput-embeddedcontrol"));this.D=null;a&&(this.D=new EP,this.Ia(this.D),this.D.Id("waffle-dataconnector-query-parameter-prompt-cell-reference-toggle"))}q(HMd,e2);p=HMd.prototype;p.Ke=function(a){this.H.eb(a)};p.eb=function(a){this.F.eb(a)};p.getName=function(){return this.H.getValue()};
p.getValue=function(){return this.F.getValue()};function IMd(a,b){a.D&&(a.D.Bc(b),a.gOa())}function JMd(a){return null==a.D||a.D.isChecked()}p.clear=function(){this.H.eb("");this.F.eb("");kU(this.H,!1);kU(this.F,!1);this.D&&this.D.Bc(!1)};
p.Da=function(){e2.prototype.Da.call(this);vq(this.Pb(),FMd,{sUb:!!this.D});this.H.render(this.Ka("waffle-dataconnector-query-parameter-prompt-input-container"));this.F.render(this.Ka("waffle-dataconnector-query-parameter-prompt-input-container"));if(this.D){var a=this.Ka("waffle-dataconnector-query-parameter-prompt-toggle-label");Li(this.D,a);dCc(this.D,a)}this.J.render(gLd(this))};
p.Ja=function(){var a=this;e2.prototype.Ja.call(this);rj(this.va());tj(this.L.$a(),"Select cell",void 0);this.Sc=new Lp(this.$a(),this.Ka("waffle-dataconnector-modal-header"));this.Ba(this.Sc);M(this.gr(),!1);this.getHandler().V(this.J,"action",this.LIa).V(this.L,"action",function(){return a.dispatchEvent("Xe")});this.D&&(this.getHandler().V(this.D,"change",this.gOa),dCc(this.D,this.Ka("waffle-dataconnector-query-parameter-prompt-toggle-label")));KMd(this)};p.kd=ca();
p.LIa=function(){var a=this.H.getValue();(a=Lb(a)?"Please enter a parameter name":null)&&kU(this.H,!0,a);a:{var b=this.F.getValue();if(Lb(b))b="Please enter a parameter value";else{if(JMd(this)&&(b=ritz_api.DbxApi.parseQueryParameterRange(b).getErrorMessage()))break a;b=null}}b&&kU(this.F,!0,b);a||b||this.dispatchEvent("We")};p.gOa=function(){KMd(this);this.L.setVisible(JMd(this))};function KMd(a){var b=JMd(a)?"Cell reference":"Value";a.F.setContent(b)}p.zZ=function(){this.dispatchEvent("Ye")};
p.l8=function(){this.dispatchEvent("Ye")};p.aIa=function(a){13==a.keyCode&&this.LIa()};function LMd(a){return Q('<span class="'+S("waffle-dataconnector-queryeditor-queryparameterchip-content")+'"><span class="'+S("waffle-dataconnector-queryeditor-queryparameterchip-name")+'">'+P(a.name)+':</span>&nbsp;<span class="'+S("waffle-dataconnector-queryeditor-queryparameterchip-value")+'">'+P(a.value)+"</span></span>")};function MMd(){return Q('<div class="'+S("waffle-dataconnector-queryeditor-removable-chip")+'"><div class="'+S("waffle-dataconnector-queryeditor-removable-chip-inner")+'" role="presentation"></div></div>')};function o2(a,b){N.call(this,b);this.C=new yq(void 0,NMd.getInstance(),this.va());this.Ia(this.C,!0);this.C.setContent(a);this.D=new yq(O(UKd),OMd.getInstance(),this.va());this.Ia(this.D,!0);this.F=!1}q(o2,N);p=o2.prototype;p.Da=function(){this.Lb(O(MMd))};p.Pb=function(){return this.Gb("waffle-dataconnector-queryeditor-removable-chip-inner")};
p.Ja=function(){var a=this;N.prototype.Ja.call(this);Rh(this.$a(),"waffle-dataconnector-queryeditor-removable-chip-error",this.F);this.getHandler().V(this.C,"action",function(b){b.stopPropagation();a.dispatchEvent("Ze")}).V(this.D,"action",function(b){b.stopPropagation();a.dispatchEvent("$e")})};p.setContent=function(a){this.C.setContent(a)};p.setVisible=function(a){var b=this.getElement();b&&M(b,a)};function OMd(){}q(OMd,xq);OMd.prototype.mc=n("waffle-dataconnector-queryeditor-removable-chip-remove-button");
ua(OMd);function NMd(){}q(NMd,xq);NMd.prototype.Da=function(a){var b=xq.prototype.Da.call(this,a);a.va().appendChild(b,a.va().Da("DIV","waffle-dataconnector-queryeditor-removable-chip-chip-content"));return b};NMd.prototype.Pb=function(a){return $d("waffle-dataconnector-queryeditor-removable-chip-chip-content",a)};NMd.prototype.mc=n("waffle-dataconnector-queryeditor-removable-chip-button");ua(NMd);var PMd=new $u;function QMd(a,b){var c=new B1;c.Ke(a);X(c,4,b);return c}
function RMd(a){var b=W(a,3),c=W(a,4);if(b)a:if(c=ritz_api.RitzModelApi.getWorkbookRangeById(b,!1)){if(b=ritz_api.RitzModelApi.getNamedRangeIdForWorkbookRange(b))if(b=ritz_api.RitzModelApi.getNamedRangeById(b)){c=PMd.Bd(cz.Ca(),b).getName();break a}c=PMd.Bd(ov.Ca(),c);c=ritz_api.DbxApi.getA1AddressForCoordinate(c.Ib(),c.Cc(),c.Ac())||"#REF"}else c="#REF";else c?(b=c.Ib(),a=c.jq(),c=c.getColumnIndex(),c=ritz_api.DbxApi.getA1AddressForCoordinate(b,a,c)||"#REF"):c=W(a,2);return c}
function SMd(a){var b=new C1,c=a.Ib();X(b,1,c);c=a.Cc();X(b,2,c);a=a.Ac();X(b,3,a);return b};function TMd(a,b){o2.call(this,UMd(a),b);this.Jc(a.clone())}q(TMd,o2);TMd.prototype.Jc=function(a){a=a.clone();o2.prototype.Jc.call(this,a);this.setContent(UMd(a));this.F=a=!!ritz_api.DbxApi.resolveQueryParameter((new $u).serialize(a)).getErrorCode();this.Qb()&&Rh(this.$a(),"waffle-dataconnector-queryeditor-removable-chip-error",a)};TMd.prototype.kb=function(){return o2.prototype.kb.call(this).clone()};function UMd(a){var b=a.getName().toUpperCase();a=RMd(a);return O(LMd,{name:b,value:a})};function VMd(){return Q('<div class="'+S("waffle-dataconnector-queryeditor-queryparameterwidget")+'"><div class="'+S("waffle-dataconnector-queryeditor-queryparameterwidget-chip-container")+'"></div><div class="'+S("waffle-dataconnector-queryeditor-queryparameterwidget-add-parameter-button-wrapper")+'"></div></div>')}
function WMd(a){var b=Q,c='<div class="'+S("waffle-dataconnector-queryeditor-queryparameterwidget-header")+'">';var d=Q('<svg class="waffle-dataconnector-query-parameters-icon" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M11.5294118,5.01960784 L11.2941176,4.2745098 C10.9411765,3.21568627 10.1176471,1.33333333 7.80392157,0 L1.80392157,1.96078431 L2.11764706,2.90196078 C3.60784314,2.31372549 3.88235294,2.31372549 4.15686275,2.31372549 C5.68627451,2.31372549 6.47058824,3.64705882 7.29411765,5.88235294 L8.58823529,9.45098039 L6.19607843,13.254902 C5.09803922,14.9803922 4.70588235,15.5686275 4.2745098,15.5686275 C3.56862745,15.5686275 4.19607843,13.8039216 2.35294118,13.8039216 C0.784313725,13.8039216 0,14.8235294 0,16.0784314 C0,17.3333333 1.09803922,18.4313725 3.05882353,18.4313725 C5.64705882,18.4313725 7.1372549,16.4705882 8.15686275,14.745098 L9.56862745,12.3137255 L10.7058824,15.254902 C11.254902,16.7058824 12,18.4313725 14.3137255,18.4313725 C16.745098,18.4313725 18.1568627,15.9215686 18.9803922,12.745098 L18.0392157,12.745098 C17.2156863,15.2156863 16.5490196,15.4117647 15.8823529,15.4117647 C15.0980392,15.4117647 14.8627451,14.0392157 14.5882353,13.2941176 L12.6666667,7.88235294 L14.5098039,4.78431373 C15.2156863,3.60784314 15.4509804,3.21568627 16,3.21568627 C16.5490196,3.21568627 16.3921569,4.54901961 17.5686275,4.54901961 C19.8039216,4.54901961 20,2.82352941 20,1.96078431 C20,1.05882353 19.0196078,0 17.1764706,0 C14.9411765,0 13.254902,2.35294118 12.3921569,3.68627451 L11.5294118,5.01960784 Z" id="dataconnector-parameters-icon-path"></path></defs><g id="Symbols" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="icon/parameters"><g id="Group" transform="translate(2.000000, 3.000000)"><mask id="dataconnector-parameters-icon-mask-2" fill="white"><use xlink:href="#dataconnector-parameters-icon-path"></use></mask><g id="\ud835\udc99"></g><g id="colors/Black---100" mask="url(#dataconnector-parameters-icon-mask-2)" fill="#000000"><g transform="translate(-2.857143, -4.285714)" id="Shape"><polygon points="0 0 26 0 26 26 0 26"></polygon></g></g></g></g></g></svg>');return b(c+
P(d)+"<div>"+P(a.title)+"</div></div>")};function XMd(a){k2.call(this,O(WMd,{title:"Parameters"}),a);this.F=new N;this.Ia(this.F);this.C=new YMd;this.H=new KR("Add");this.Ia(this.H);this.H.Id("waffle-dataconnector-queryeditor-queryparameterwidget-add-parameter-button");zk(this.H,"Add parameter")}q(XMd,k2);p=XMd.prototype;
p.Da=function(){k2.prototype.Da.call(this);this.setContent(O(VMd));this.F.rb(this.Ka("waffle-dataconnector-queryeditor-queryparameterwidget-chip-container"));this.H.render(this.Ka("waffle-dataconnector-queryeditor-queryparameterwidget-add-parameter-button-wrapper"));for(var a=ia(this.C.zd()),b=a.next();!b.done;b=a.next())b.value.render(this.F.getElement())};p.Ja=function(){k2.prototype.Ja.call(this);this.getHandler().V(this.F,"Ze",this.gLb).V(this.F,"$e",this.Zzb).V(this.H,"action",this.Ajb)};
function ZMd(a){return a.C.zd().map(function(a){return a.kb()})}function $Md(a,b){for(var c=ia(a.C.zd()),d=c.next();!d.done;d=c.next())d=d.value,a.F.removeChild(d,a.Qb()),C(d);a.C.clear();b=ia(b);for(c=b.next();!c.done;c=b.next())aNd(a,c.value)}function aNd(a,b){bNd(b);var c=b.getName();if(a.C.get(c))throw new cNd("Parameter with name '"+c+"' is\nalready defined.");b=new TMd(b,a.va());a.C.set(c,b);a.F.Ia(b,a.Qb())}p.gLb=function(a){a.stopPropagation();this.dispatchEvent(new dNd("cf",this,a.target.kb()))};
p.Zzb=function(a){a.stopPropagation();this.dispatchEvent(new dNd("bf",this,a.target.kb()))};p.Ajb=function(a){a.stopPropagation();this.dispatchEvent(new dNd("af",this))};function YMd(){this.Eb={}}p=YMd.prototype;p.get=function(a){return this.Eb["P_"+a.toUpperCase()]||null};p.has=function(a){return!!this.Eb["P_"+a.toUpperCase()]};p.set=function(a,b){this.Eb["P_"+a.toUpperCase()]=b};p.zd=function(){return Object.values(this.Eb)};p.clear=function(){for(var a=Object.keys(this.Eb),b=0;b<a.length;b++)delete this.Eb[a[b]]};
function bNd(a){var b=a.getName();if(!b)throw new eNd("Parameters must have a name");var c=W(a,2),d=W(a,3);a=W(a,4);if(!c&&!d&&!a)throw new eNd("Parameter '"+b+"'has no value set.");}function eNd(a){var b=Error.apply(this,arguments);this.message=b.message;"stack"in b&&(this.stack=b.stack)}q(eNd,Error);function cNd(a){var b=Error.apply(this,arguments);this.message=b.message;"stack"in b&&(this.stack=b.stack)}q(cNd,Error);
function fNd(a){var b=Error.apply(this,arguments);this.message=b.message;"stack"in b&&(this.stack=b.stack)}q(fNd,Error);function dNd(a,b,c){D.call(this,a,b);this.C=c}q(dNd,D);function gNd(a,b,c,d){E.call(this);this.L=new Uh(this);this.Ba(this.L);this.J=new Uh(this);this.Ba(this.J);this.D=a;this.C=null;this.R=c;this.O=b;this.F=null;this.H=d;this.L.V(this.D,"af",this.OFb).V(this.D,"bf",this.PFb).V(this.D,"cf",this.QFb)}q(gNd,E);p=gNd.prototype;p.Ha=function(){this.F&&this.F.UD();this.F=null;C(this.C)};
p.OFb=function(){this.hP();this.C=new HMd(2==this.H);this.C.render();this.C.J.setContent("Add");IMd(this.C,!1);(new Yj(this.D.Pb(),0)).kd(this.C.$a(),0);this.C.setVisible(!0);this.dispatchEvent("ff");var a=this.C;this.J.V(a,"We",this.$Ib).V(a,"Ye",this.hP).V(a,"Xe",this.wSa)};
p.QFb=function(a){a=a.C;this.hP();this.C=new HMd(2==this.H);this.C.render();this.C.Ke(a.getName());this.C.eb(RMd(a));IMd(this.C,!Su(a,2));this.C.J.setContent("Update");(new Yj(this.D.Pb(),0)).kd(this.C.$a(),0);this.C.setVisible(!0);this.dispatchEvent("ff");hNd(this,a)};p.hP=function(){C(this.C);this.C=null;this.dispatchEvent("ef")};
p.$Ib=function(){var a=this.C,b=a.getName().toUpperCase(),c=a.getValue();if(this.D.C.has(b))kU(a.H,!0,"There is already a parameter with this name");else if(a=JMd(a),b=iNd(this,b,c,a))aNd(this.D,b),this.hP(),this.dispatchEvent(new jNd("df",b))};
function hNd(a,b){var c=b.clone();b=a.C;a.J.V(b,"We",function(){var b=a.C,e=b.getName().toUpperCase(),f=c.getName(),h=b.getValue();if(e==f||!a.D.C.has(e))if(b=JMd(b),e=iNd(a,e,h,b)){h=a.D;bNd(e);b=e.getName();if(!h.C.get(f))throw new fNd;if(b.toUpperCase()!=f.toUpperCase()&&h.C.get(b))throw new cNd;var k=h.C.get(f);k.Jc(e);b!=f&&(delete h.C.Eb["P_"+f.toUpperCase()],h.C.set(b,k));a.hP();f=new jNd("hf",e);f.D=c;a.dispatchEvent(f)}}).V(b,"Ye",a.hP).V(b,"Xe",a.wSa)}
p.PFb=function(a){a=a.C;var b=a.getName();this.D.C.has(b);var c=this.D,d=c.C.get(b);if(!d)throw new fNd;c.F.removeChild(d,c.Qb());delete c.C.Eb["P_"+b.toUpperCase()];C(d);this.dispatchEvent(new jNd("gf",a))};
function iNd(a,b,c,d){if(3==a.H&&!kNd.test(b))return kU(a.C.H,!0,"Please enter a valid parameter name"),null;d?(c=ritz_api.DbxApi.parseQueryParameterRange(c),c.getErrorMessage()?(a=a.C,b=c.getErrorMessage(),null==b?kU(a.F,!1):kU(a.F,!0,b),a=null):(b=lNd(b,c),ritz_api.DbxApi.resolveQueryParameter((new $u).serialize(b)).getErrorCode()?(kU(a.C.F,!0,"Please enter a valid cell"),a=null):a=b)):(a=new B1,a.Ke(b),X(a,2,c));return a}
function lNd(a,b){b.getErrorMessage();if(b.getNamedRangeWorkbookRangeId()){b=b.getNamedRangeWorkbookRangeId();var c=new B1;c.Ke(a);X(c,3,b);return c}if(b.getGridRange())return b=$O(b.getGridRange()),b=SMd(b),QMd(a,b)}
p.wSa=function(){var a=this;BR(this.R,null,new mNd(this.C),this.C.getValue(),!0,!1,!0,function(b){a.O.setVisible(!1);a.C.setVisible(!1);a.F=b;a.L.Uc(b,"hide",a.lMb)},void 0,function(a){a=ritz_api.DbxApi.parseQueryParameterRange(a);a.getErrorMessage()?a=vf(a.getErrorMessage()):(a=lNd("name",a),a=ritz_api.DbxApi.resolveQueryParameter((new $u).serialize(a)).getErrorCode()?vf("Select a cell with text, a number or a boolean"):vf(null));return a})};
p.lMb=function(){this.isDisposed()||(this.F=null,this.O.setVisible(!0),this.C.setVisible(!0),Hh(this.C.$a(),"hidden",!1))};function mNd(a){this.C=a}mNd.prototype.eb=function(a){this.C.eb(a);IMd(this.C,!0)};function jNd(a,b,c){D.call(this,a,c);this.C=b;this.D=null}q(jNd,D);var kNd=/^[A-Za-z_][A-Za-z0-9_]*$/;function nNd(){return Q('<div class="'+S("waffle-dataconnector-querypreviewrenderer")+'"><div class="'+S("waffle-dataconnector-querypreviewrenderer-canvas-wrapper")+'"><div class="'+S("waffle-dataconnector-querypreviewrenderer-a11y-region")+'" tabIndex="0"></div><div class="'+S("waffle-dataconnector-querypreviewrenderer-preview-overlay")+'"></div></div></div>')};function p2(a,b){N.call(this,b);this.J=a;this.D=this.va().Da("CANVAS");zJ(this.D);this.F=yJ(this.D);this.L=ritz_api.DbxApi.createGridViewModel(101,24);this.C=ritz_api.DbxApi.createGridView(this.L,this.F,this.J.D,this.J.C);AJ(this.D,this.F,800,243);oNd(this);this.$c=new $u;this.H=!0}q(p2,N);p2.prototype.Da=function(){this.Lb(O(nNd));var a=this.Ka("waffle-dataconnector-querypreviewrenderer-canvas-wrapper");a.appendChild(this.D);L(a,"native-scrollbar");L(a,"native-scrollbar-ltr")};
p2.prototype.Ja=function(){N.prototype.Ja.call(this);M(this.$a(),this.H);ze(this.Ka("waffle-dataconnector-querypreviewrenderer-a11y-region"),"No preview available")};p2.prototype.Ha=function(){N.prototype.Ha.call(this)};p2.prototype.setVisible=function(a){this.H=a;this.Qb()&&M(this.$a(),this.H)};function pNd(a,b){Rh(a.Ka("waffle-dataconnector-querypreviewrenderer-preview-overlay"),"visible",b)}
function qNd(a,b,c){a.D.style.width=b;a.D.style.height=c;AJ(a.D,a.F,b,c);si(a.Ka("waffle-dataconnector-querypreviewrenderer-preview-overlay"),new Qd(b,c));oNd(a)}function oNd(a){a.F.fillStyle="#f3f3f3";a.F.fillRect(0,0,a.D.width,a.D.height)}function rNd(a,b){var c=a.va().Da("TR");b=ia(b);for(var d=b.next();!d.done;d=b.next())d=d.value,c.appendChild(a.va().Da("TH",{scope:"col"},d));return c}
function sNd(a,b){var c=a.va().Da("TR");b=Wu(b,1);b=ia(b);for(var d=b.next();!d.done;d=b.next())d=d.value,c.appendChild(a.va().Da("TH",{scope:"col"},ritz_api.RitzModelApi.renderFormattedValueProtoAsString(a.$c.serialize(d))));return c};function tNd(a){N.call(this,a);this.C=null}q(tNd,N);p=tNd.prototype;p.Ha=function(){N.prototype.Ha.call(this);this.C=null};p.Da=function(){this.Lb(this.va().Da("DIV",{tabIndex:0,"class":"waffle-dataconnector-queryeditor-sidebaraccordion"}))};p.Ja=function(){N.prototype.Ja.call(this);this.getHandler().V(this,"open",this.ymb).V(this.$a(),"keyup",this.hLb)};p.Ia=function(a,b){N.prototype.Ia.call(this,a,b)};p.ag=function(a,b,c){N.prototype.ag.call(this,a,b,c)};
p.ymb=function(a){a.target instanceof k2&&this.C!=a.target&&(this.C&&this.C.Od(!1),this.C=a.target)};p.hLb=function(a){13==a.keyCode&&a.target==this.$a()&&(a=this.Zc(0))&&a.focus()};function uNd(){A.call(this);this.C=yz("win")}q(uNd,A);function vNd(a,b){a.C.dataConnectorOnCompleteAuth=b;b=(new Gl(a.C.location.href)).resolve(new Gl("dbx/ssoLogin")).toString();var c=ce();(a=dp(b,{target:"google_popup",width:500,height:500,top:Math.floor((c.height-500)/2),left:Math.floor((c.width-500)/2),toolbar:!1,menubar:!1,location:!1,statusbar:!1},a.C))&&a.focus()}uNd.prototype.Ha=function(){delete this.C.dataConnectorOnCompleteAuth;A.prototype.Ha.call(this)};var wNd=new ws(1);function xNd(a,b){var c=W(a,3);return b?W(a,4)?"Query returns more than "+(wNd.format(c)+(" rows of data. Please revise your query to return no more than "+(wNd.format(1E4)+" rows."))):"Query returns "+(wNd.format(c)+(" rows of data. Please revise your query to return no more than "+(wNd.format(1E4)+" rows."))):(new ys("{TOTAL_ROWS, plural, =0 {Query returns no results.}=1 {Query returns 1 row of data.}other {Query returns # rows of data.}}")).format({TOTAL_ROWS:c})}
function yNd(a){var b=1024<=a;a=b?RCc(parseInt(a,10)):a;return(new ys("{AT_LEAST_ONE_KB, select, \n     true {Will process {BYTES}.}\n     other {\n         {BYTES, plural,\n             =0 {Will process # bytes.}\n             =1 {Will process # byte.}\n             other {Will process # bytes.}}}}")).format({AT_LEAST_ONE_KB:b?"true":"false",BYTES:a})};function q2(a,b,c,d,e,f,h){e2.call(this,"waffle-dataconnector-newqueryeditor",h);this.Vc=a;this.dd=b;this.od=c;this.F=new KR("View results");this.F.Id("waffle-dataconnector-newqueryeditor-preview-query-button");this.Ia(this.F);this.Ea=new zT("Insert results");this.Ea.Id("waffle-dataconnector-newqueryeditor-execute-query-button");this.Ia(this.Ea);this.D=new xMd(void 0,this.va());this.Ia(this.D);this.L=new tNd;this.Ia(this.L);this.fb=new XMd(this.va());this.L.Ia(this.fb,!0);this.jb=new gNd(this.fb,
this,e,this.fM());this.Ba(this.jb);this.J=d;this.Ia(this.J);this.H=new mMd("horizontal",this.va());this.Ba(this.H);a=this.H;a.H="Toggle preview pane";a.Qb()&&Lh(a.Ka("waffle-dataconnector-draggablebar-handle"),a.H);this.rc=this.sb=this.Oa=!1;this.Jb=null;this.Hc=f||new uNd;this.Ba(this.Hc);this.Bb=this.Aa=null;this.O=new Xi(100);this.Ba(this.O)}q(q2,e2);
function zNd(a,b,c){a.D.Pa(!1);b.then(function(b){return ANd(a,b)},function(){return ANd(a,null)});c&&c.then(function(b){3==b.getState()&&(a.Qb()?BNd(a,b):a.Bb=function(){BNd(a,b)})})}function CNd(a){var b=a.oka(),c;if(c=b){a=ia(ZMd(a.fb));for(c=a.next();!c.done;c=a.next())Uu(b,3,c.value);c=b}return c}function ANd(a,b){if(b){var c=Wu(b,3).map(function(a){return DNd(a)});$Md(a.fb,c)}a.xoa(b);a.aT()}
function DNd(a){if(!W(a,3))return a;var b=W(a,3);return 11!=ritz_api.RitzModelApi.getWorkbookRangeType(b)?a:(b=ritz_api.RitzModelApi.getWorkbookRangeById(b,!1))?(b=(new $u).Bd((new ov).Ca(),b),b=SMd(b),QMd(a.getName(),b)):a}p=q2.prototype;p.IOa=function(){this.Oa=!0;r2(this,rd("Executing query"));this.yM()};
p.EOa=function(a,b){this.O.stop();this.O.Yz();ENd(this,!1);this.Oa=!1;this.Jb=b;this.rc=1E4<W(a,3)||!!W(a,4);this.isDisposed()||(b=vd("strong",void 0,xNd(a,this.rc)),b=wd(b,vd("br"),FNd),r2(this,b));b=this.J;a=W(a,2);var c=b.$c.serialize(a);ritz_api.DbxApi.setQueryResult(b.C,c);c=ritz_api.DbxApi.getWidth(b.C);var d=ritz_api.DbxApi.getHeight(b.C),e=ritz_api.GridViewApi.getHeaderDepth(b.C,"COLUMNS"),f=ritz_api.GridViewApi.getHeaderDepth(b.C,"ROWS");qNd(b,c+f,d+e);ritz_api.GridViewApi.renderOriginView(b.C,
0,0);ritz_api.GridViewApi.renderHeaderView(b.C,"ROWS",0,d,0,e,null,null);ritz_api.GridViewApi.renderHeaderView(b.C,"COLUMNS",0,c,f,0,null,null);ritz_api.GridViewApi.renderGridView(b.C,0,0,c,d,f,e,null,null);pNd(b,!1);c=b.va().Da("TABLE");d=b.va().Da("THEAD",void 0,rNd(b,Wu(a,1)));e=b.va().Da("TBODY");a=Wu(a,2);a=ia(a);for(f=a.next();!f.done;f=a.next())e.appendChild(sNd(b,f.value));c.appendChild(d);c.appendChild(e);a=b.Gb("waffle-dataconnector-querypreviewrenderer-a11y-region");b.va().Fd(a);c&&b.va().appendChild(a,
c);GNd(this);this.F.setContent(O(VKd));zk(this.F,"Refresh results");this.F.Id("refresh");this.yM()};function GNd(a){a.J.setVisible(!0);var b=Math.min(xi(a.J.D).height+16,240);HNd(a,b)}p.DOa=function(){INd(this)};function INd(a){if(!a.O.enabled){var b=0;JNd(a,b);a.O.V("tick",function(){a.isDisposed()||(b+=.1,JNd(a,b))});a.O.start()}}function JNd(a,b){r2(a,rd("Executing query "+(b.toFixed(1)+"s")))}p.COa=function(a){KNd(this,a)};
function KNd(a,b){a.Oa=!1;a.O.stop();a.O.Yz();ENd(a,!0);BNd(a,b.Xj());a.yM()}function BNd(a,b){10==b.getErrorCode()?LNd(a):r2(a,oMd(a.fM(),b))}p.Kpa=function(){this.Oa=!0;r2(this,rd("Updating workbook"));this.yM()};p.Ipa=function(a){KNd(this,a)};p.Da=function(){e2.prototype.Da.call(this);this.va().appendChild(this.Pb(),wq(DMd));var a=gLd(this);vq(a,EMd);this.L.render(this.Ka("waffle-dataconnector-newqueryeditor-sidebar"))};
p.Ja=function(){var a=this;e2.prototype.Ja.call(this);this.D.render(this.Ka("waffle-dataconnector-newqueryeditor-editor-pane"));this.Ea.render(this.Ka("waffle-dataconnector-newqueryeditor-insert-button-wrapper"));this.F.render(this.Ka("waffle-dataconnector-newqueryeditor-preview-button-wrapper"));this.J.render(this.Ka("waffle-dataconnector-newqueryeditor-preview-pane"));this.H.rb(this.Ka("waffle-dataconnector-newqueryeditor-preview-resize-bar"));this.getHandler().V(this.H,["Re","Se"],this.Lyb).V(this.F,
"action",this.uPb).V(this.Ea,"action",this.Edb).V(this.jb,["df","gf","hf"],this.yNb).V(this.jb,["ff","ef"],this.yM).V(this.D,"Ve",this.aT).V(this.H,"key",this.Kyb);Yi(function(){if(!a.isDisposed()){var b=a.J;ritz_api.DbxApi.renderBlankPreview(b.C);var c=ritz_api.DbxApi.getWidth(b.C),d=ritz_api.DbxApi.getHeight(b.C),e=ritz_api.GridViewApi.getHeaderDepth(b.C,"COLUMNS"),f=ritz_api.GridViewApi.getHeaderDepth(b.C,"ROWS");qNd(b,c+f,d+e);ritz_api.GridViewApi.renderOriginView(b.C,0,0);ritz_api.GridViewApi.renderHeaderView(b.C,
"ROWS",0,d,0,e,null,null);ritz_api.GridViewApi.renderHeaderView(b.C,"COLUMNS",0,c,f,0,null,null);ritz_api.GridViewApi.renderGridView(b.C,0,0,c,d,f,e,null,null);pNd(b,!1);a.Bb&&a.Bb()}});HNd(this,0);r2(this,FNd);this.yM()};p.Ha=function(){e2.prototype.Ha.call(this);C(this.Aa);this.Aa=null};p.aT=function(){ENd(this,!1);this.yM()};p.setVisible=function(a){e2.prototype.setVisible.call(this,a);a&&MNd(this)};function MNd(a){a.L.nf(function(a){a.refresh()})}
function HNd(a,b){var c=void 0===c?!0:c;C(a.Aa);a.Aa=null;c?(c=NNd(a),a.Aa=new ONd(c,b,200,a),a.Ba(a.Aa),a.Aa.play()):PNd(a,b)}function NNd(a){return a.Qb()?xi(a.Ka("waffle-dataconnector-newqueryeditor-preview-pane")).height:0}
function PNd(a,b){var c=a.Ka("waffle-dataconnector-newqueryeditor-main");b=xi(c).height-a.H.ad()-b;a=a.H;Pp(a.Sc,nMd(a));a.C="vertical"==a.D?VCa(a.Sc,b):WCa(a.Sc,b);c=ia("vertical"==a.D?[a.C,0]:[0,a.C]);b=c.next().value;c=c.next().value;lC(a.$a(),b,c,a.we());a.dispatchEvent("Re")}
p.yNb=function(a){switch(a.type){case "df":var b=a.C.getName().toUpperCase();b=2==this.fM()?"${"+b+"}":"@"+b;a=BMd(this.D);iba(a,b)||(/[^\s"']$/.test(a)&&(b=" "+b),n2(this.D,a+b));break;case "hf":b=a.C;a=a.D.getName();var c=b.getName();a!=c&&(b=2==this.fM()?new RegExp("\\$\\{"+a+"\\}","ig"):new RegExp("\\@"+a,"ig"),a=2==this.fM()?"${"+c+"}":"@"+c,c=BMd(this.D))&&(b=c.replace(b,a),n2(this.D,b))}this.aT()};
p.yM=function(){var a=CNd(this);this.F.setVisible(!this.sb);var b=this.jb.C;this.Oa||this.sb||null==a||b?(this.Ea.Pa(!1),this.F.Pa(!1)):(this.F.Pa(!0),this.Ea.Pa(!0),a=this.Jb&&this.Jb.equals(a),pNd(this.J,!a))};p.uPb=function(){rA.gc(QNd(this))};p.Edb=function(){var a=CNd(this);this.dd.gc(this.od(a))};function QNd(a){var b=new K1;X(b,1,a.Vc);a=CNd(a);X(b,2,a);X(b,3,30);return b}
function LNd(a){var b="waffle-dataconnector-ssologin-"+bc(),c=uMd(b);r2(a,c);(b=Wd(b))&&a.getHandler().V(b,"click",function(){return RNd(a)})}p.Lyb=function(){var a=this.Ka("waffle-dataconnector-newqueryeditor-editor-pane");wi(a,this.H.C);var b=this.Ka("waffle-dataconnector-newqueryeditor-main");a=this.Ka("waffle-dataconnector-newqueryeditor-preview-pane");b=xi(b).height-this.H.C-this.H.ad();wi(a,b);this.J.setVisible(0!=b)};
p.Kyb=function(a){13==a.keyCode&&(0==NNd(this)?(GNd(this),Lz("Preview pane expanded"),this.J.Ka("waffle-dataconnector-querypreviewrenderer-a11y-region").focus()):(HNd(this,0),Lz("Preview pane collapsed")));a.stopPropagation()};function RNd(a){vNd(a.Hc,function(){ENd(a,!1);rA.gc(QNd(a))})}function r2(a,b){yd(a.Ka("waffle-dataconnector-newqueryeditor-footer-message"),b)}
function ENd(a,b){a.sb=b;a.Qb()&&Rh(a.Ka("waffle-dataconnector-newqueryeditor-footer-message-container"),"waffle-dataconnector-newqueryeditor-unhandled-error",b)}p.zZ=ca();function ONd(a,b,c,d){es.call(this,[a],[b],c);this.F=d}q(ONd,es);ONd.prototype.m0=function(){PNd(this.F,this.coords[0])};ONd.prototype.eT=function(){PNd(this.F,this.TP[0])};
var SNd=new bp,TNd="Inserted data is visible to all. The query is visible only to people with edit access. "+(SNd.De("a",{href:"https://sites.google.com/corp/google.com/sheets-data-connectors-tt-help/home",target:"_blank"})+("Learn more"+SNd.Je("a"))),FNd=SNd.format(TNd);function UNd(a,b,c){b=c||b;a='<div class="'+S("waffle-dataconnector-pill-menuitem-refreshquery")+" "+S("waffle-dataconnector-pill-menuitem")+'">'+P(VKd(null,b));a+="Refresh query";b='<span class="'+S("waffle-dataconnector-pill-menuitem-refreshquery-info")+'"><span class="'+S("waffle-dataconnector-pill-menuitem-refreshquery-info-button")+'">';c=Q('<svg class="waffle-dataconnector-info-icon-filled" fill="#000000" fill-opacity="0.54" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"/></svg>');
a+=b+P(c)+'</span><span class="'+S("waffle-dataconnector-pill-menuitem-refreshquery-info-message")+'"></span><span class="'+S("waffle-dataconnector-pill-menuitem-refreshquery-info-spinner")+'"></span><span class="'+S("waffle-dataconnector-pill-menuitem-refreshquery-info-error-button")+'">';return Q(a+"Error</span></span></div>")}
function VNd(){var a='<div class="'+S("waffle-dataconnector-pill-menuitem-editquery")+" "+S("waffle-dataconnector-pill-menuitem")+'">';var b=Q('<svg class="waffle-dataconnector-edit-icon" xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 24 24" fill="#000000"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/><path d="M0 0h24v24H0z" fill="none"/></svg>');a+=P(b);return Q(a+
"Edit query</div>")}function WNd(a,b,c){b=c||b;a='<div class="'+S("waffle-dataconnector-pill-menuitem-viewerror")+" "+S("waffle-dataconnector-pill-menuitem")+'">'+P(WKd({color:"#000000"},b));return Q(a+"View error</div>")}function XNd(a,b,c){b=c||b;a='<div class="'+S("waffle-dataconnector-pill-menuitem-bigquery-helpdoc")+" "+S("waffle-dataconnector-pill-menuitem")+'">'+P(YKd(null,b));return Q(a+"Learn more about BigQuery</div>")};function YNd(a,b,c,d){Rk.call(this,O(UNd),a,d);this.O=b;this.H=c;this.C=new yq(void 0,Ri(xq,"waffle-dataconnector-pill-menuitem-refreshquery-info-button"),this.va());this.Ia(this.C);this.F=new yq(void 0,Ri(xq,"waffle-dataconnector-pill-menuitem-refreshquery-info-error-button"),this.va());this.Ia(this.F)}q(YNd,Rk);p=YNd.prototype;
p.Ja=function(){Rk.prototype.Ja.call(this);this.C.rb(this.Ka("waffle-dataconnector-pill-menuitem-refreshquery-info-button"));zk(this.C,"Show the query info");this.C.Pd("Show the query info");this.F.rb(this.Ka("waffle-dataconnector-pill-menuitem-refreshquery-info-error-button"));this.getHandler().V(this.C,"action",this.GCb).V(this.F,"action",this.aLb)};
p.Kg=function(a){if(a&&he(a.target)){var b=this.Ka("waffle-dataconnector-pill-menuitem-refreshquery-info");if(xe(b,a.target))return!0}return Rk.prototype.Kg.call(this,a)};p.refresh=function(a){M(this.Ka("waffle-dataconnector-pill-menuitem-refreshquery-info"),a);a&&this.reset()};p.reset=function(){ZNd(this,"waffle-dataconnector-pill-menuitem-refreshquery-info-button")};p.aLb=function(a){a.stopPropagation();l8a.gc()};
p.GCb=function(a){var b=this;a.stopPropagation();ZNd(this,"waffle-dataconnector-pill-menuitem-refreshquery-info-spinner");$Nd(this).then(function(a){a=W(a,2);return aOd(b,a).then(function(a){a=W(W(a,5),1);a=yNd(a);var c=b.Ka("waffle-dataconnector-pill-menuitem-refreshquery-info-message");yd(c,rd(a));ZNd(b,"waffle-dataconnector-pill-menuitem-refreshquery-info-message")},function(){return bOd(b)})},function(){return bOd(b)})};
function bOd(a){ZNd(a,"waffle-dataconnector-pill-menuitem-refreshquery-info-error-button")}function $Nd(a){var b=new a2;X(b,1,a.O);return uLd(kLd.getInstance(),b)}function aOd(a,b){var c=W(b,4);b=new D1;var d=new A1,e=W(c,1);X(d,1,e);c=c.Dm();X(d,2,c);X(b,4,d);d=new K1;X(d,1,a.H);X(d,2,b);X(d,3,1);X(d,5,!0);return oLd(kLd.getInstance(),d)}
function ZNd(a,b){["waffle-dataconnector-pill-menuitem-refreshquery-info-button","waffle-dataconnector-pill-menuitem-refreshquery-info-message","waffle-dataconnector-pill-menuitem-refreshquery-info-spinner","waffle-dataconnector-pill-menuitem-refreshquery-info-error-button"].forEach(function(b){return M(a.Ka(b),!1)});M(a.Ka(b),!0);a.C.setVisible("waffle-dataconnector-pill-menuitem-refreshquery-info-button"==b);a.F.setVisible("waffle-dataconnector-pill-menuitem-refreshquery-info-error-button"==b)}
;function cOd(a,b,c,d){c=void 0===c?!1:c;IT.call(this,wq($Kd,{opacity:.54}),new Wk(d),dOd.getInstance(),d);this.H=a;this.R=b;this.qa=c;this.F={};this.F["refresh-query"]=new YNd("refresh-query",this.H,this.R,this.va());this.Ad(this.F["refresh-query"]);this.F["edit-query"]=new Rk(O(VNd),"edit-query",this.va());this.Ad(this.F["edit-query"]);this.F["view-error"]=new Rk(O(WNd),"view-error",this.va());this.Ad(this.F["view-error"]);this.F["menu-separator"]=new Vk(this.va());this.Ad(this.F["menu-separator"]);
this.F["bigquery-helpdoc"]=new Rk(O(XNd),"bigquery-helpdoc",this.va());this.Ad(this.F["bigquery-helpdoc"]);this.getHandler().V(this.zc(),"action",this.Ea)}q(cOd,IT);cOd.prototype.Ja=function(){IT.prototype.Ja.call(this);L(this.zc().getElement(),"waffle-dataconnector-pill-menu");Cec(this,new Yj(this.$a(),this.qa?4:0));this.sx=!0};cOd.prototype.Ea=function(a){a=a.target.kb();(a=eOd[a])&&a.gc()};
cOd.prototype.refresh=function(a){var b=[];switch(a){case 2:b.push("edit-query");b.push("refresh-query");break;case 3:b.push("view-error")}if(a=3==ritz_api.DbxApi.getConnectionTypeForQuery(this.H))b.push("menu-separator"),b.push("bigquery-helpdoc");this.F["refresh-query"].refresh(a);a=ia(Object.values(this.F));for(var c=a.next();!c.done;c=a.next())c.value.setVisible(!1);b=ia(b);for(a=b.next();!a.done;a=b.next())this.F[a.value].setVisible(!0)};
cOd.prototype.Od=function(a,b){if(a){var c=this.zc();if(c&&c.Qb()){c=ia(Object.values(this.F));for(var d=c.next();!d.done;d=c.next())d=d.value,d.reset&&d.reset()}}IT.prototype.Od.call(this,a,b)};var fOd={},eOd=(fOd["bigquery-helpdoc"]=a8a,fOd["edit-query"]=d8a,fOd["refresh-query"]=k8a,fOd["view-error"]=l8a,fOd);function dOd(){}q(dOd,DKc);dOd.prototype.Zp=function(a){return a.Da("DIV",{style:"display:none;"})};ua(dOd);function gOd(a,b,c){b=c||b;a='<div class="'+S("waffle-dataconnector-pill")+'"><div class="'+S("waffle-dataconnector-pill-timestamp")+'"></div><div class="'+S("waffle-dataconnector-pill-progress")+'"><div class="'+S("waffle-dataconnector-pill-spinner")+'"></div><span class="'+S("waffle-dataconnector-pill-progress-message")+'">';a=a+"Running query..."+(' </span><span class="'+S("waffle-dataconnector-pill-progress-timer")+'"></span></div><div class="'+S("waffle-dataconnector-pill-error")+'">'+P(WKd(null,
b)));a=a+"Execution error"+('</div><div class="'+S("waffle-dataconnector-pill-editquery-button-wrapper")+'"></div><div class="'+S("waffle-dataconnector-pill-refresh-button-wrapper")+'"></div><div class="'+S("waffle-dataconnector-pill-menu-button-wrapper")+'"></div></div>');return Q(a)};function hOd(a,b,c,d,e,f,h){f=void 0===f?!1:f;N.call(this,h);this.R=a;this.Ea=c;this.Aa=d;this.J=f;this.ma=e;this.qa=new iOd;this.H=new Xi(100);this.Ba(this.H);this.L=null;this.O=new uj;this.Ba(this.O);this.F=new LR;this.Ia(this.F);this.F.Id("waffle-dataconnector-pill-editquery-button");Aj(this.O,this.F,d8a,Cj);this.C=new LR("Refresh");this.C.Id("waffle-dataconnector-pill-refresh-button");this.Ia(this.C);this.D=new cOd(a,b,this.J,this.va());this.D.Id("waffle-dataconnector-pill-menu-button");this.Ia(this.D)}
q(hOd,N);p=hOd.prototype;p.Da=function(){this.Lb(O(gOd))};p.Ja=function(){N.prototype.Ja.call(this);this.F.render(this.Ka("waffle-dataconnector-pill-editquery-button-wrapper"));this.C.render(this.Ka("waffle-dataconnector-pill-refresh-button-wrapper"));this.D.render(this.Ka("waffle-dataconnector-pill-menu-button-wrapper"));this.getHandler().V(this.C,"action",this.Rzb);this.refresh();this.kd()};p.Ha=function(){Zi(this.L);N.prototype.Ha.call(this)};
p.kd=function(){this.Aa.kd(this.$a(),this.J?5:1,new Xh(0,this.J?50:0,12,this.J?0:50))};
p.refresh=function(){var a=eMd(this.ma,this.R),b=a?a.getState():2,c=e8a.isEnabled();switch(b){case 4:case 1:M(this.Ka("waffle-dataconnector-pill-timestamp"),!1);M(this.Ka("waffle-dataconnector-pill-progress"),!0);M(this.Ka("waffle-dataconnector-pill-error"),!1);Su(a,7)&&jOd(this,W(a,7));this.F.setVisible(!1);this.C.setVisible(!1);this.C.Pa(!1);this.D.setVisible(!1);Zi(this.L);break;case 2:M(this.Ka("waffle-dataconnector-pill-timestamp"),!0);M(this.Ka("waffle-dataconnector-pill-progress"),!1);M(this.Ka("waffle-dataconnector-pill-error"),
!1);kOd(this);lOd(this);this.F.setVisible(!1);this.C.setVisible(c);this.C.Pa(c);this.D.setVisible(c);this.D.isVisible()&&this.D.refresh(b);break;case 3:M(this.Ka("waffle-dataconnector-pill-timestamp"),!1);M(this.Ka("waffle-dataconnector-pill-progress"),!1);M(this.Ka("waffle-dataconnector-pill-error"),!0);kOd(this);this.F.setVisible(c);this.C.setVisible(!1);this.C.Pa(!1);this.D.setVisible(c);this.D.isVisible()&&this.D.refresh(b);c?Zi(this.L):(M(this.Ka("waffle-dataconnector-pill-timestamp"),!0),M(this.Ka("waffle-dataconnector-pill-error"),
!1),lOd(this));break;default:xmc("Unrecognized execution state: "+b)}};function lOd(a){var b=ritz_api.DbxApi.getLastExecutionTimeForSheet(a.Ea);if(!(0>=b)){var c="Updated "+a.qa.format(b),d=a.Ka("waffle-dataconnector-pill-timestamp");ze(d,c);mOd(a,b)}}p.Rzb=function(){this.C.Pa(!1);k8a.gc()};function jOd(a,b){if(!a.H.enabled){var c=(Fa()-b)/1E3,d=a.Ka("waffle-dataconnector-pill-progress-timer");ze(d,c.toFixed(1)+"s");a.H.V("tick",function(){c=(Fa()-b)/1E3;ze(d,c.toFixed(1)+"s")});a.H.start()}}
function kOd(a){a.H.stop();a.H.Yz()}function mOd(a,b){b=new Date(b);b.toDateString()==(new Date).toDateString()&&(b=86400-3600*b.getHours()-60*b.getMinutes()-b.getSeconds(),a.L=Yi(function(){return lOd(a)},1E3*(b+1)))}function nOd(a){kOd(a);a=a.Ka("waffle-dataconnector-pill-progress-timer");ze(a,"")}function iOd(){this.C=new qs(1);this.D=new qs(ts.MONTH_DAY_MEDIUM);this.F=new qs(7)}
iOd.prototype.format=function(a){a=new Date(a);var b=new Date,c;0<b.getFullYear()-a.getFullYear()?c=this.C.format(a):a.getMonth()==b.getMonth()&&a.getDate()==b.getDate()?c="Today":c=this.D.format(a);a=this.F.format(a);return c+(", "+a)};function oOd(a,b,c,d,e){A.call(this);this.D=a;this.H=b;this.L=c;this.F=d;this.J=e;this.Ma=new Uh(this);this.Ba(this.Ma);this.C=null;this.Ma.V(this.L,"K",this.YKb).V(this.D,"va",this.ZKb).V(this.D,"wa",this.$Kb).V(this.F,"db-execution-status-updated",this.XKb).V(this.D,"Oa",this.refresh).V(this.F,"offline_status",this.Kwb)}q(oOd,A);p=oOd.prototype;p.Ha=function(){A.prototype.Ha.call(this);C(this.C)};p.refresh=function(){pOd(this)};p.YKb=function(){this.C&&this.C.kd()};p.ZKb=function(){pOd(this)};
p.$Kb=function(){C(this.C);this.C=null};function pOd(a){var b=a.D.C.C;if(b&&MF(b))if(a.C)a.C.refresh();else{var c=BD(a.H);if(c){b=c.we();c=new Yj(c.Ga.J,b?5:1);var d=a.D.C.C,e=d.H,f=W(e,1);e=W(e,2);d=d.Ib();a.C=new hOd(f,e,d,c,a.J,b);a.C.render();a.F.Wg()&&nOd(a.C)}}}p.XKb=function(a){a.D&&0!=a.D.length&&this.C&&db(a.D,this.C.R)&&this.C.refresh()};p.Kwb=function(a){"none"!=a.C&&this.C&&nOd(this.C)};function qOd(a,b,c,d){A.call(this);this.ma=a;this.qa=b;this.Aa=c;this.O=this.J=this.L=null;this.D=d||null;this.C=3;this.R=new rOd;this.F=this.H=null}q(qOd,A);p=qOd.prototype;p.getId=function(){return Ca(this)};p.Ha=function(){this.stop();A.prototype.Ha.call(this)};p.start=function(){this.C=2;this.F=this.H=null;this.wCa(this.ma)};p.stop=function(){2==this.C&&(this.C=3,this.R.stop())};function sOd(a,b){a.L=b;return a}function tOd(a,b){a.J=b;return a}function uOd(a,b){a.O=b;return a}
p.wCa=function(a){var b=this;this.qa.call(this.D,a).then(function(a){if(2==b.C){b.H=a;b.F=null;var c=b.Aa.call(b.D,a);if(c){b.O&&b.O.call(b.D,a);a:{a=b.R;c=v(b.wCa,b,c);if(10>a.F){a.F++;var e=1E3}else if(60>a.D)a.D++,e=5E3;else{a=!1;break a}e+=Math.round(.2*e*(Math.random()-.5)*2);a.C=Yi(c,e);a=!0}a||vOd(b,Error("Polling timed out"))}else b.stop(),b.C=4,b.H=a,b.F=null,b.L&&b.L.call(b.D,a)}},function(a){2==b.C&&vOd(b,a)})};function vOd(a,b){a.stop();a.C=1;a.H=null;a.F=b;a.J&&a.J.call(a.D,b)}
p.getStatus=g("C");p.qK=g("F");function rOd(){this.D=this.F=0;this.C=null}rOd.prototype.stop=function(){this.D=this.F=0;Zi(this.C);this.C=null};function wOd(a){this.C=a}function xOd(a,b){var c=W(b,2);return new qOd(b,function(b){return oLd(a.C,b)},function(a){if(1==a.Xj().getState()){var b=new K1;X(b,2,c);b.setToken(a.Xj().getToken());return b}return null})};function yOd(){return Q('<div class="'+S("waffle-dataconnector-queryeditor-content")+'"><div class="'+S("waffle-dataconnector-queryeditor-editor-pane")+'"></div><div class="'+S("waffle-dataconnector-queryeditor-preview-pane")+'"><div class="'+S("waffle-dataconnector-queryeditor-preview-canvas-wrapper")+'"></div><div class="'+S("waffle-dataconnector-queryeditor-preview-overlay")+'"><div class="'+S("waffle-dataconnector-queryeditor-preview-overlay-text")+'"></div></div></div></div>')};function zOd(a,b,c,d,e,f,h,k){i2.call(this,f,h);var l=this;Up(this,"Query Editor");NLd(this);this.Hc=a;this.C=b;this.Ia(this.C);this.Ea=c;this.Vc=d;this.Ob=e;this.J=this.va().Da("CANVAS");zJ(this.J);this.Aa=yJ(this.J);this.Hb=ritz_api.DbxApi.createGridViewModel(101,24);this.F=ritz_api.DbxApi.createGridView(this.Hb,this.Aa,this.Ob.D,this.Ob.C);AJ(this.J,this.Aa,800,243);AOd(this);LLd(this,this.Ea,function(){return l.Vc(BOd(l.C))});MLd(this);this.$c=new $u;this.O=null;this.Oa=!1;this.Jb=k||new uNd;
this.Ba(this.Jb);this.R=!1;this.rc=new COd(this);this.Ba(this.rc)}q(zOd,i2);p=zOd.prototype;p.Da=function(){i2.prototype.Da.call(this);vq(this.Pb(),yOd)};
p.Ja=function(){var a=this;i2.prototype.Ja.call(this);this.C.render(this.Ka("waffle-dataconnector-queryeditor-editor-pane"));Aj(this.mb,this.C.L,rA,Cj,function(){return DOd(a)});this.getHandler().V(this.C,"jf",this.bta);var b=this.Ka("waffle-dataconnector-queryeditor-preview-canvas-wrapper");b.appendChild(this.J);L(b,"native-scrollbar");L(b,"native-scrollbar-ltr");EOd(this,!1);j2(this);this.bta();FOd(this.C,"Only users with edit access can view and edit the query")};
p.Ha=function(){i2.prototype.Ha.call(this);delete this.Hb;delete this.F};p.IOa=function(){this.R=!0;M(this.Ka("waffle-dataconnector-queryeditor-preview-overlay-text"),!1);j2(this);QLd(this,"Executing query");GOd(this)};
p.EOa=function(a,b){this.R=!1;this.O=b;this.Oa=HOd(a);IOd(this,a);a=W(a,2);a=this.$c.serialize(a);ritz_api.DbxApi.setQueryResult(this.F,a);a=ritz_api.DbxApi.getWidth(this.F);b=ritz_api.DbxApi.getHeight(this.F);var c=ritz_api.GridViewApi.getHeaderDepth(this.F,"COLUMNS"),d=ritz_api.GridViewApi.getHeaderDepth(this.F,"ROWS"),e=a+d,f=b+c;this.J.style.width=e;this.J.style.height=f;AJ(this.J,this.Aa,e,f);AOd(this);ritz_api.GridViewApi.renderOriginView(this.F,0,0);ritz_api.GridViewApi.renderHeaderView(this.F,
"ROWS",0,b,0,c,null,null);ritz_api.GridViewApi.renderHeaderView(this.F,"COLUMNS",0,a,d,0,null,null);ritz_api.GridViewApi.renderGridView(this.F,0,0,a,b,d,c,null,null);JOd(this,!1);GOd(this);FOd(this.C,"All users with view access can view query results in the workbook.");EOd(this,!0)};function IOd(a,b){var c=0;a.L.F||(QLd(a,"Executing query",100),c=1500);Yi(function(){if(!a.isDisposed()){j2(a);KOd(a);var c=rd(xNd(b,a.Oa));HOd(b)?OLd(a,c):PLd(a,c)}},c)}
p.DOa=function(a){a=a.Xj();QLd(this,"Executing query",W(a,5))};p.COa=function(a){this.R=!1;j2(this);LOd(this,a);this.bta()};function MOd(a){var b="waffle-dataconnector-ssologin-"+bc(),c=uMd(b);OLd(a,c);(b=Wd(b))&&a.getHandler().V(b,"click",function(){return NOd(a)})}function NOd(a){vNd(a.Jb,function(){rA.gc(DOd(a))})}
function KOd(a){var b=BOd(a.C);if(b&&a.O&&!b.equals(a.O)){b=new bp;var c="This preview is out of date."+(b.De("br")+"Please re-run your query.");b=b.format(c);JOd(a,!0);yd(a.Ka("waffle-dataconnector-queryeditor-preview-overlay-text"),b);M(a.Ka("waffle-dataconnector-queryeditor-preview-overlay-text"),!0)}else JOd(a,!1)}p.bta=function(){KOd(this);GOd(this)};
function GOd(a){var b=BOd(a.C);if(a.R||null==b)a.Ea.Pa(!1),rA.Pa(!1);else{rA.Pa(!0);var c=!!a.O;b=!!a.O&&a.O.equals(b);var d=!!a.Oa;a.Ea.Pa(!c||b&&!d)}}function JOd(a,b){Rh(a.Ka("waffle-dataconnector-queryeditor-preview-pane"),"waffle-dataconnector-queryeditor-preview-inactive",b)}p.Kpa=function(){this.R=!0;j2(this);QLd(this,"Updating workbook");GOd(this)};p.Ipa=function(a){this.R=!1;j2(this);LOd(this,a);GOd(this)};function LOd(a,b){b=b.Xj();10==b.getErrorCode()?MOd(a):OLd(a,oMd(2,b))}
function DOd(a){var b=new K1;X(b,1,a.Hc);a=BOd(a.C);X(b,2,a);X(b,3,30);return b}function AOd(a){a.Aa.fillStyle="#f3f3f3";a.Aa.fillRect(0,0,a.J.width,a.J.height)}function EOd(a,b){b!=Ai(a.Ka("waffle-dataconnector-queryeditor-preview-pane"))&&(b?a.rc.play():M(a.Ka("waffle-dataconnector-queryeditor-preview-pane"),!1))}function HOd(a){return 1E4<W(a,3)||!!W(a,4)}function OOd(a){N.apply(this,arguments)}q(OOd,N);
function FOd(a,b){var c=I(H(),"docs-idu");c&&(b+=" ");var d=a.Ka("waffle-dataconnector-queryeditor-sharing-message");ne(d);b=a.va().Da("SPAN",void 0,b);d.appendChild(b);c&&(a=a.va().Da("A",{href:"https://sites.google.com/corp/google.com/sheets-dataconnectors-help/sharing",target:"_blank"},"Learn more"),d.appendChild(a))}function COd(a){es.call(this,[0],[1],350);this.F=a}q(COd,es);COd.prototype.fT=function(){var a=this.F.Ka("waffle-dataconnector-queryeditor-preview-pane");M(a,!0);wi(a,0)};
COd.prototype.m0=function(){var a=this.qk,b=this.F.Ka("waffle-dataconnector-queryeditor-preview-pane");wi(b,243*a);this.F.kd()};function POd(){var a='<div class="'+S("waffle-dataconnector-bigquery-query-settings-widget")+'"><div class="'+S("waffle-dataconnector-bigquery-query-settings-widget-project-section")+'"><div class="'+S("waffle-dataconnector-bigquery-query-settings-widget-project-section-header")+'">';return Q(a+"Billing project</div></div></div>")};function QOd(a,b,c){b=c||b;a='<div class="'+S("waffle-dataconnector-queryeditor-query-settings-header")+'">'+P(Cr({icon:Dq("docs-icon-img docs-icon-settings")},b))+'<span class="'+S("waffle-dataconnector-queryeditor-query-settings-title")+'">';return Q(a+"Query Settings</span></div>")};function ROd(a,b){k2.call(this,O(QOd),b);this.F=a.C;this.H=a.D;this.C=new KT;zk(this.C,"Billing project");this.Ia(this.C)}q(ROd,k2);function SOd(a){a=a.C.Ve();return null==a?null:a.getValue()}
ROd.prototype.Da=function(){k2.prototype.Da.call(this);this.setContent(O(POd));var a=this.Ka("waffle-dataconnector-bigquery-query-settings-widget-project-section");this.C.render(a);if(0==this.F.length){var b=this.va();b.appendChild(a,b.Da("DIV","waffle-dataconnector-bigquery-query-settings-widget-alert",O(WKd),"No billing projects"));b.appendChild(a,b.Da("DIV","waffle-dataconnector-bigquery-query-settings-widget-alert-description","Configure a project in the Google Cloud Platform console to continue"))}};
ROd.prototype.Ja=function(){var a=this;k2.prototype.Ja.call(this);this.getHandler().V(this.C,"change",function(b){b.stopPropagation();a.dispatchEvent("kf")});TOd(this,this.F,this.H);this.Od(!0);this.C.wp();this.Od(!1)};function TOd(a,b,c){if(0==b.length)a.C.Pa(!1),a.C.setVisible(!1);else{for(var d=null,e=0;e<b.length;e++){var f=b[e];a.C.Ad(new Rk(f.getName(),f));null!=c&&f.getId()==c&&(d=e)}null!==d?a.C.Xe(d):ir(a.C,null)}};function UOd(a,b){this.C=a;this.D=b}function VOd(a,b){var c=new K1;X(c,1,a.C);X(c,2,b);X(c,3,1);X(c,5,!0);return oLd(a.D,c).then(ba(),function(a){return a instanceof L1?vf(a):xf(a)})};function WOd(a,b,c){b=c||b;return Q('<div class="'+S("waffle-dataconnector-bigquery-query-validation-widget")+'"><div class="'+S("waffle-dataconnector-bigquery-query-validation-widget-open-button")+'">'+P(bLd())+P(XKd(null,b))+P(aLd())+'</div><div class="'+S("waffle-dataconnector-bigquery-query-validation-widget-bar")+'">'+P(bLd())+P(XKd(null,b))+P(aLd())+'<div class="'+S("waffle-dataconnector-bigquery-query-validation-widget-message")+'" aria-live="polite"></div><div class="'+S("waffle-dataconnector-bigquery-query-validation-widget-close-button")+
'">'+P(UKd(null,b))+"</div></div></div>")};function XOd(a,b){N.call(this,b);this.J=a;this.H=-1;this.C=new yq(void 0,Ri(xq,"waffle-dataconnector-bigquery-query-validation-widget-close-button"),this.va());this.Ia(this.C);this.D=new yq(void 0,Ri(xq,"waffle-dataconnector-bigquery-query-validation-widget-open-button"),this.va());this.Ia(this.D);this.F=!1}q(XOd,N);XOd.prototype.Da=function(){this.Lb(O(WOd));this.C.rb(this.Ka("waffle-dataconnector-bigquery-query-validation-widget-close-button"));this.D.rb(this.Ka("waffle-dataconnector-bigquery-query-validation-widget-open-button"))};
XOd.prototype.Ja=function(){var a=this;N.prototype.Ja.call(this);Rh(this.$a(),"waffle-dataconnector-bigquery-query-validation-widget-visible",this.F);zk(this.C,"Close the query validation widget");this.C.Pd("Close the query validation widget");this.getHandler().V(this.C,"action",function(){return a.setVisible(!1)}).V(this.D,"action",function(){return a.setVisible(!0)});YOd(this)};
XOd.prototype.setVisible=function(a){this.F=a;this.Qb()&&Rh(this.$a(),"waffle-dataconnector-bigquery-query-validation-widget-visible",this.F)};
function ZOd(a,b){var c=Fa();a.H=c;null==b?YOd(a):VOd(a.J,b).then(function(b){if(c==a.H&&!a.isDisposed()){var d=b.Xj(),f=3!=d.getState();f?(b=W(W(b,5),1),b="Query valid. "+yNd(b),d="Query is valid. Click for more detail."):(b=oMd(3,d),d="Query is invalid. Click for more detail.");var h=a.Ka("waffle-dataconnector-bigquery-query-validation-widget-message");yd(h,rd(b));Rh(a.$a(),"waffle-dataconnector-bigquery-query-validation-widget-valid",f);Rh(a.$a(),"waffle-dataconnector-bigquery-query-validation-widget-invalid",
!f);zk(a.D,d);a.D.Pd(d)}},ca())}function YOd(a){var b=a.Ka("waffle-dataconnector-bigquery-query-validation-widget-message");yd(b,rd("Validation messages for your query are shown here"));Ph(a.$a(),"waffle-dataconnector-bigquery-query-validation-widget-valid");Ph(a.$a(),"waffle-dataconnector-bigquery-query-validation-widget-invalid");zk(a.D,"Show the query validation widget");a.D.Pd("Show the query validation widget")};function $Od(a,b,c){b=c||b;b="<div id="+TR(a.id)+' class="'+S("waffle-dataconnector-dbschematreenode")+'" role="option"><div class="'+S("waffle-dataconnector-dbschematreenode-label")+(a.wc?" waffle-dataconnector-dbschematreenode-rtl":"")+'"><div class="'+S("waffle-dataconnector-dbschematreenode-spinner-container")+'">'+P(EKc({fc:!0},b))+"</div>";c=Q('<svg class="waffle-dataconnector-expand-icon" width="18px" height="18px" viewBox="0 0 18 18" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g><polygon id="Shape" points="0 0 18 0 18 18 0 18"></polygon><polygon id="Shape" fill-opacity="0.87" fill="#000000" points="5 7 9 11 13 7"></polygon></g></g></svg>');
a=b+P(c)+'<div class="'+S("waffle-dataconnector-dbschematreenode-title")+'">'+P(a.title)+'</div></div><div class="'+S("waffle-dataconnector-dbschematreenode-child-container")+'" role="group"></div></div>';return Q(a)};function aPd(a){this.Fc=a}aPd.prototype.getType=g("Fc");function bPd(a){this.Fc="cloud-project";this.C=a}q(bPd,aPd);bPd.prototype.Dm=g("C");function cPd(a,b){this.Fc="bigquery-dataset";this.C=b;this.D=a}q(cPd,aPd);cPd.prototype.Dm=g("C");function dPd(a,b,c){this.Fc="bigquery-table";this.C=c;this.D=b;this.F=a}q(dPd,aPd);dPd.prototype.Dm=g("C");function ePd(a){this.Fc="jdbc-table";this.C=a}q(ePd,aPd);function fPd(){this.Fc="column"}q(fPd,aPd);function s2(a,b,c,d){c=void 0===c?!1:c;N.call(this,d);this.Jc(b);this.J=a;this.nextSibling=this.previousSibling=this.parentNode=null;this.H=(this.D=c)?2:0;this.F=this.C=!1}q(s2,N);p=s2.prototype;p.Da=function(){this.Lb(O($Od,{title:this.J,id:this.getId()}))};p.Pb=function(){return this.Gb("waffle-dataconnector-dbschematreenode-child-container")};
p.Ja=function(){N.prototype.Ja.call(this);var a=this.Ka("waffle-dataconnector-dbschematreenode-label"),b=this.Ka("waffle-dataconnector-dbschematreenode-title");a.id=this.getId()+"-label";Hh(this.$a(),"labelledby",a.id);this.D||Hh(this.$a(),"expanded",this.C);Hh(this.$a(),"selected",this.F);Gh(this.Ka("waffle-dataconnector-dbschematreenode-spinner-container"),"presentation");Gh(this.Ka("waffle-dataconnector-expand-icon"),"presentation");Rh(this.$a(),"waffle-dataconnector-dbschematreenode-rtl",this.we());
rj(this.va());tj(b,this.J,void 0);gPd(this,!1);Rh(this.$a(),"waffle-dataconnector-dbschematreenode-leaf",this.D);this.getHandler().V(a,"click",this.cLb)};p.getTitle=g("J");p.cLb=function(){this.Od(!this.C);this.yc(!0)};p.Od=function(a){if(!this.D&&a!=this.C){var b=Ji(64,a);this.dispatchEvent(b)&&gPd(this,a)}};function hPd(a){var b=a.fd();if(!a.C||0==b)return a;a=a.Zc(b-1);return hPd(a)}
function iPd(a,b){b=void 0===b?!1:b;var c=a.Zc(0);return!b&&a.C&&c?c:a.nextSibling?a.nextSibling:a.parentNode?iPd(a.parentNode,!0):null}function gPd(a,b){a.D||(a.C=b,a.Qb()&&(Rh(a.$a(),"waffle-dataconnector-dbschematreenode-open",a.C),Hh(a.$a(),"expanded",a.C)))}p.yc=function(a){if(a!=this.F){var b=Ji(8,a);this.dispatchEvent(b)&&(this.F=a,this.Qb()&&(Rh(this.$a(),"waffle-dataconnector-dbschematreenode-selected",this.F),Hh(this.$a(),"selected",a)))}};
function jPd(a,b){a.H=b;b=1==a.H;a.Qb()&&Rh(a.$a(),"waffle-dataconnector-dbschematreenode-loading",b)}p.zv=g("H");p.Jc=function(a){N.prototype.Jc.call(this,a)};p.kb=function(){return N.prototype.kb.call(this)};p.ud=function(a){return N.prototype.ud.call(this,a)};p.Zc=function(a){return N.prototype.Zc.call(this,a)};p.Ia=function(a,b){if(this.D)throw Error("Can't add child to leaf node");N.prototype.Ia.call(this,a,b)};
function kPd(a){a.parentNode=null;var b=a.previousSibling,c=a.nextSibling;a.previousSibling=null;a.nextSibling=null;b&&(b.nextSibling=c);c&&(c.previousSibling=b)}p.ag=function(a,b,c){if(this.D)throw Error("Can't add child to leaf node");var d=this.Zc(b-1),e=this.Zc(b);a.parentNode=this;a.nextSibling=e;if(a.previousSibling=d)d.nextSibling=a;e&&(e.previousSibling=a);N.prototype.ag.call(this,a,b,c)};p.removeChild=function(a,b){kPd(a);return N.prototype.removeChild.call(this,a,b)};
p.Fd=function(){return N.prototype.Fd.call(this,!0)};p.Sn=function(a){return N.prototype.Sn.call(this,a,!0)};function lPd(a){N.call(this,a);this.C=new mPd(this.va());this.Ia(this.C,!0);this.D=null;this.getHandler().V(this.C,"open",this.wwb).V(this.C,"select",this.xwb)}q(lPd,N);p=lPd.prototype;p.Da=function(){this.Lb(this.va().Da("DIV","waffle-dataconnector-schema-menu"))};p.Ja=function(){N.prototype.Ja.call(this);this.getHandler().V(this.C.$a(),"keydown",this.Ntb).V(this.C.$a(),"focus",this.HEb)};p.wwb=function(a){var b=a.target;2!=b.zv()&&a.preventDefault();0==b.zv()&&nPd(this,b).then(function(a){a.Od(!0)})};
p.xwb=function(a){a=a.target;this.D&&this.D.yc(!1);this.D=a;this.C.$a().setAttribute("aria-activedescendant",a.getId())};function nPd(a,b){a=a.H(b).then(function(a){return oPd(b,a)},function(){return jPd(b,0)});jPd(b,1);return a}function pPd(a){var b=[];a.C.nf(function(a){b.push(a)});return b}function oPd(a,b){if(a.isDisposed())return Eb(b),xf();b.forEach(function(b){a.Ia(b,!0)});jPd(a,2);return vf(a)}
p.Ntb=function(a){switch(a.keyCode){case 36:qPd(this);break;case 35:(a=this.C.Zc(this.C.fd()-1))&&hPd(a).yc(!0);break;case 13:a=this.D;a.Od(!a.C);break;case 37:a=this.D;a.C?a.Od(!1):(a=a.parentNode)&&a.yc(!0);break;case 39:rPd(this);break;case 38:a=this.D;(a=a.previousSibling?hPd(a.previousSibling):a.parentNode)&&a.yc(!0);break;case 40:(a=iPd(this.D))&&a.yc(!0)}};function qPd(a){(a=a.C.Zc(0))&&a.yc(!0)}
function rPd(a){function b(a){a.Od(!0);(a=a.Zc(0))&&a.yc(!0)}var c=a.D;switch(c.zv()){case 2:b(c);break;case 0:nPd(a,c).then(function(a){b(a)})}}p.HEb=function(){this.D||qPd(this)};function mPd(a){N.apply(this,arguments)}q(mPd,N);p=mPd.prototype;p.Da=function(){var a=this.va().Da("DIV",{"class":"waffle-dataconnector-schema-menu-tree-container",tabIndex:0});Gh(a,"tree");this.Lb(a)};p.ud=function(a){return N.prototype.ud.call(this,a)};p.Zc=function(a){return N.prototype.Zc.call(this,a)};
p.ag=function(a,b,c){var d=this.Zc(b-1),e=this.Zc(b);a.parentNode=null;a.nextSibling=e;if(a.previousSibling=d)d.nextSibling=a;e&&(e.previousSibling=a);N.prototype.ag.call(this,a,b,c)};p.removeChild=function(a,b){kPd(a);return N.prototype.removeChild.call(this,a,b)};function sPd(a,b){lPd.call(this,b);this.F=a}q(sPd,lPd);function tPd(a,b){var c=!0;c=void 0===c?!1:c;var d=b.getId();a:{var e=pPd(a);e=ia(e);for(var f=e.next();!f.done;f=e.next())if(f.value.kb().Dm()==d){e=!0;break a}e=!1}e||(b=b.getName(),d=new s2(b,new bPd(d)),a.C.Ia(d,!0),c&&d.Od(!0))}sPd.prototype.H=function(a){a=a.kb();switch(a.getType()){case "cloud-project":return uPd(this,a);case "bigquery-dataset":return vPd(this,a);case "bigquery-table":return wPd(this,a);default:return a.getType(),xf()}};
function uPd(a,b){var c=b.Dm();return ALd(a.F,c).then(function(a){return xPd(a,c)})}function vPd(a,b){var c=b.D,d=b.Dm();return yLd(a.F,d,c).then(function(a){return yPd(a,d,c)})}function wPd(a,b){var c=new R1;c.Ke(b.F);X(c,2,b.D);zKd(c,b.Dm());return zLd(a.F,c).then(function(a){return zPd(a)})}function xPd(a,b){return a.map(function(a){return new s2(a,new cPd(a,b))})}function yPd(a,b,c){return a.map(function(a){a=a.getName();return new s2(a,new dPd(a,c,b))})}
function zPd(a){return a.map(function(a){return new s2(a,new fPd(a),!0)})};function APd(a){var b=Q,c='<div class="'+S("waffle-dataconnector-queryeditor-schemamenuwidget-header")+'">';var d=Q('<svg class="waffle-dataconnector-database-icon" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><g fill="#000" fill-rule="evenodd"><ellipse cx="9" cy="5" rx="7" ry="3"/><path d="M16,7 L16,8.99999983 C16,10.6568542 12.8659932,12 9,12 C5.13400675, 12 2,10.6568542 2,9 L2,7 C2,8.65685425 5.13400675,10 9,10 C12.8659932,10 16,8.65685425 16,7 Z"/><path d="M16,11 L16,12.9999998 C16,14.6568542 12.8659932,16 9,16 C5.13400675,16 2,14.6568542 2,13 L2,11 C2,12.6568542 5.13400675,14 9,14 C12.8659932,14 16,12.6568542 16,11 Z"/></g></svg>');
return b(c+P(d)+"<div>"+P(a.title)+"</div></div>")};function BPd(a,b){k2.call(this,O(APd,{title:"Schema"}),b);this.C=a;this.Ia(this.C,!0)}q(BPd,k2);function CPd(a,b,c,d,e,f,h,k,l,m){q2.call(this,b,c,d,e,f,l,m);var r=this;hLd(this,this.va().Da("SPAN",void 0,O(YKd),"BigQuery query editor"));this.R=new ROd(a,this.va());this.L.ag(this.R,0,!0);this.Hb=new sPd(h,this.va());this.$b=new BPd(this.Hb);this.L.Ia(this.$b,!0);this.Ob=new XOd(k,this.va());this.Ia(this.Ob);this.Dd=new aj(function(){ZOd(r.Ob,CNd(r))},600,this)}q(CPd,q2);p=CPd.prototype;
p.Ja=function(){q2.prototype.Ja.call(this);this.Ob.render(this.Ka("waffle-dataconnector-newqueryeditor-editor-pane"));this.getHandler().V(this.R,"kf",this.Yyb);this.$b.Od(!0);var a=SOd(this.R);a&&tPd(this.Hb,a)};p.oka=function(){var a=BMd(this.D),b=SOd(this.R);if(!a||!b)return null;b=new A1;var c=SOd(this.R).getId();X(b,1,a);X(b,2,c);a=new D1;X(a,4,b);return a};
p.xoa=function(a){if(a){var b=W(a,4);n2(this.D,W(b,1));a:{a=this.R;b=b.Dm();for(var c=a.C.ai(),d=0;d<c;d++)if(a.C.Ue(d).getValue().getId()==b){a.C.Xe(d);break a}}}else n2(this.D,"");this.D.Pa(!0)};p.aT=function(){q2.prototype.aT.call(this);this.Dd.start()};p.fM=n(3);p.Yyb=function(){var a=SOd(this.R);a&&tPd(this.Hb,a)};function DPd(a){var b='<div class="'+S("waffle-dataconnector-jdbc-query-settings-widget")+'"><div class="'+S("waffle-dataconnector-jdbc-query-settings-widget-connection-name-section")+'"><div class="'+S("waffle-dataconnector-jdbc-query-settings-widget-connection-name-label")+'">';b=b+"Connection name:"+('</div><div class="'+S("waffle-dataconnector-jdbc-query-settings-widget-connection-name")+'">'+P(a.iP)+"</div></div></div>");return Q(b)};function EPd(a,b){k2.call(this,O(QOd),b);this.C=a}q(EPd,k2);EPd.prototype.Da=function(){k2.prototype.Da.call(this);this.setContent(O(DPd,{iP:this.C}))};function FPd(a,b){this.C=a;this.D=b}function GPd(a){var b=new P1;X(b,1,a.C);return sLd(a.D,b).then(function(a){return Wu(a,4)})}function HPd(a,b){var c=new V1;X(c,1,a.C);X(c,2,b);return tLd(a.D,c).then(function(a){return Wu(a,4)})};function IPd(a,b){lPd.call(this,b);this.F=a}q(IPd,lPd);function JPd(a){GPd(a.F).then(function(b){b.forEach(function(b){b=b.getName();b=new s2(b,new ePd(b));a.C.Ia(b,!0)})},ca())}IPd.prototype.H=function(a){a=a.kb();switch(a.getType()){case "jdbc-table":return KPd(this,a);default:return a.getType(),xf()}};function KPd(a,b){var c=new R1;c.Ke(b.C);return HPd(a.F,c).then(function(a){return LPd(a)})}function LPd(a){return a.map(function(a){return new s2(a,new fPd(a),!0)})};function t2(a,b,c,d,e,f,h,k,l){q2.call(this,a,c,d,e,f,k,l);hLd(this,"Jdbc query editor");this.Ob=new EPd(b);this.L.ag(this.Ob,0,!0);this.R=new IPd(h,this.va());JPd(this.R);this.Hb=new BPd(this.R,this.va());this.L.Ia(this.Hb,!0)}q(t2,q2);t2.prototype.Ja=function(){q2.prototype.Ja.call(this);this.Hb.Od(!0)};t2.prototype.oka=function(){var a=BMd(this.D);if(!a)return null;var b=new D1;X(b,1,a);return b};t2.prototype.xoa=function(a){a=a?W(a,1):"";n2(this.D,a);this.D.Pa(!0)};t2.prototype.fM=n(1);function MPd(){var a='<div class="'+S("waffle-dataconnector-plx-query-settings-widget")+'"><div class="'+S("waffle-dataconnector-plx-query-settings-widget-engine-section")+'"></div><div class="'+S("waffle-dataconnector-plx-query-settings-widget-script-section")+'"><div class="'+S("waffle-dataconnector-plx-query-settings-widget-script-label")+'">';a=a+"External script"+('</div><div class="'+S("waffle-dataconnector-plx-query-settings-widget-script-chip-wrapper")+'"></div><div class="'+S("waffle-dataconnector-plx-query-settings-widget-script-button-wrapper")+
'"></div></div></div>');return Q(a)};function NPd(a){k2.call(this,O(QOd),a);this.H="";this.F=new o2(this.H);this.Ia(this.F);this.F.C.Pd("Click to open the Plx script editor");this.F.D.Pd("Unlink this Plx script");this.J=new KR("Add existing script");this.Ia(this.J);this.J.Id("waffle-dataconnector-plx-query-settings-widget-link-script-button");this.C=new VT;this.C.setContent("Engine");a=ia(rc(OPd));for(var b=a.next();!b.done;b=a.next())b=b.value,this.C.Ad(new Rk(b.caption,b.value));this.C.Xe(0);this.Ia(this.C);this.O=new en;this.Ba(this.O)}
q(NPd,k2);NPd.prototype.Da=function(){k2.prototype.Da.call(this);this.setContent(O(MPd));this.C.render(this.Ka("waffle-dataconnector-plx-query-settings-widget-engine-section"));this.F.render(this.Ka("waffle-dataconnector-plx-query-settings-widget-script-section"));this.J.render(this.Ka("waffle-dataconnector-plx-query-settings-widget-script-button-wrapper"))};
NPd.prototype.Ja=function(){var a=this;k2.prototype.Ja.call(this);this.getHandler().V(this.J,"action",function(b){b.stopPropagation();a.dispatchEvent("lf")}).V(this.F,"$e",function(b){b.stopPropagation();a.dispatchEvent("nf")}).V(this.F,"Ze",function(b){b.stopPropagation();dp(ZJd(a.H),{target:"_blank"})}).V(this.C,"change",function(b){b.stopPropagation();a.dispatchEvent("of")});this.Od(!0);this.C.wp();this.Od(!1);PPd(this)};
function PPd(a){var b=!!a.H;b&&a.F.setContent(a.H);a.F.setVisible(b);a.J.setVisible(!b);a.J.Pa(!b);a.C.Pa(!b)}var QPd=Object.freeze({caption:"Dremel",value:"DREMEL"}),RPd=Object.freeze({caption:"F1",value:"F1"}),SPd=Object.freeze({caption:"Procella",value:"PROCELLA"}),OPd={JXa:QPd,$Xa:RPd,P_a:SPd};function TPd(a,b,c){h2.call(this,b,c);this.F=a?new qKc:new ET;this.Ia(this.F);this.F.Id("waffle-dataconnector-simple-text-input-prompt-text-field");a&&this.F.setContent(a);this.C.Id("waffle-dataconnector-simple-text-input-prompt-add-button")}q(TPd,h2);TPd.prototype.Da=function(){h2.prototype.Da.call(this);var a=this.va().Da("DIV","waffle-dataconnector-simple-text-input-prompt-text-field-wrapper");me(this.Pb(),a);this.F.render(a)};TPd.prototype.eb=function(a){this.F.eb(a)};
TPd.prototype.Ja=function(){var a=this;h2.prototype.Ja.call(this);this.getHandler().V(this.C,"action",function(){var b=a.F.getValue();""!=b&&a.resolve(b)})};function UPd(a,b,c,d,e,f,h){q2.call(this,a,b,c,d,e,f,h);hLd(this,this.va().Da("SPAN",void 0,O(ZKd),"Plx query editor"));this.R=new NPd(this.va());this.L.ag(this.R,0,!0)}q(UPd,q2);p=UPd.prototype;p.Ja=function(){q2.prototype.Ja.call(this);this.getHandler().V(this.R,"lf",this.IOb).V(this.R,"nf",this.fLb)};p.oka=function(){var a=BMd(this.D),b=this.R.H;if(!a&&!b)return null;var c=new D1,d=new z1;b?X(d,3,b):(X(d,1,a),a=this.R.C.Ve().getValue(),X(d,2,a));X(c,2,d);return c};
p.xoa=function(a){this.D.Pa(!0);if(a){var b=W(a,2);a=W(b,1);var c=W(b,2);b=W(b,3);if(c)try{a:{for(var d=this.R,e=d.C.ai(),f=0;f<e;f++)if(d.C.Ue(f).getValue()==c){d.C.Xe(f);break a}throw Error("Unrecognized engine type");}}catch(h){}b&&VPd(this,b);a&&n2(this.D,a)}else n2(this.D,"")};p.fM=n(2);
p.IOb=function(){var a=this,b=this.R.H,c=new TPd("Script ID");Up(c,"Add existing script");c.C.setContent("Add");c.eb(b);this.Ba(c);c.setVisible(!0);Af(c.getResult(),function(){return C(c)}).then(function(b){return VPd(a,b)},ca())};
function VPd(a,b){if(!a.isDisposed()){var c=a.R;c.H=b||"";PPd(c);c=a.D;if(b){c.Pa(!1);var d=new bp;var e=d.De("a",{href:ZJd(b),target:"_blank"});e=e+"Edit your existing script by viewing it in Plx"+d.Je("a");d=d.format(e);yd(c.Ka("waffle-dataconnector-textarea-editor-overlay-message"),d);c.Pa(!1);zMd(c,!0)}else c.Pa(!0),zMd(c,!1);Lz(b?"Script added":"Script removed");a.aT()}}p.fLb=function(){VPd(this,null)};function WPd(){}q(WPd,xq);WPd.prototype.Da=function(a){a=a.va().Da("DIV","waffle-dataconnector-close-badge");vq(a,UKd);return a};WPd.prototype.mc=n("waffle-dataconnector-close-badge");ua(WPd);function XPd(){yq.call(this,void 0,WPd.getInstance())}q(XPd,yq);function YPd(){return Q('<div class="'+S("waffle-dataconnector-linked-script-chip")+'"><div class="'+S("waffle-dataconnector-linked-script-chip-content")+'" tabindex="0"></div><div class="'+S("waffle-dataconnector-linked-script-chip-close-badge-wrapper")+'"></div></div>')};function ZPd(a,b){N.call(this,b);this.D=a;this.C=new XPd;zk(this.C,"Remove script");this.Ia(this.C)}q(ZPd,N);ZPd.prototype.Da=function(){this.Lb(O(YPd));var a=this.Ka("waffle-dataconnector-linked-script-chip-content");var b=this.D;b=this.va().Da("A",{href:ZJd(b),target:"_blank"},b);a.appendChild(b)};
ZPd.prototype.Ja=function(){var a=this;N.prototype.Ja.call(this);this.C.render(this.Ka("waffle-dataconnector-linked-script-chip-close-badge-wrapper"));var b="Linked plx script: "+this.D;Lh(this.Ka("waffle-dataconnector-linked-script-chip-content"),b);this.getHandler().V(this.C,"action",function(){return a.dispatchEvent("pf")})};function $Pd(){var a=Q,b='<div class="'+S("waffle-dataconnector-plxqueryeditormodule")+'"><div class="'+S("waffle-dataconnector-plxqueryeditormodule-sidebar")+'"><div class="'+S("waffle-dataconnector-plxqueryeditormodule-sidebar-header")+'">Plx</div><div class="'+S("waffle-dataconnector-plxqueryeditormodule-link-script-button-wrapper")+'"></div><div class="'+S("waffle-dataconnector-plxqueryeditormodule-script-chip-wrapper")+'"></div><div class="'+S("waffle-dataconnector-plxqueryeditormodule-engine-select-wrapper")+
'"></div></div><div class="'+S("waffle-dataconnector-plxqueryeditormodule-main")+'"><div class="'+S("waffle-dataconnector-plxqueryeditormodule-editor-wrapper")+'"></div>';var c=Q('<div class="'+S("waffle-dataconnector-queryeditor-sharing-message-container")+'"><div class="'+S("waffle-dataconnector-queryeditor-sharing-message")+'"></div></div>');return a(b+P(c)+"</div></div>")};function aQd(){var a='<div class="'+S("waffle-dataconnector-sqleditor")+'"><div class="'+S("waffle-dataconnector-sqleditor-textareawrapper")+'"><div class="'+S("waffle-dataconnector-sqleditor-overlay")+'"><div class="'+S("waffle-dataconnector-sqleditor-overlay-message")+'"></div></div><textarea class="'+S("waffle-dataconnector-sqleditor-textarea")+'" spellcheck="false" aria-label="';a+=Hq("Enter your query");a+='"></textarea><div class="'+S("waffle-dataconnector-sqleditor-linegutter")+'"></div></div></div>';
return Q(a)};function bQd(a,b){a=void 0===a?"":a;N.call(this,b);this.Vd=!0;this.D=!1;this.J=a;this.F=this.C=null;this.H=new LT;this.Ia(this.H)}q(bQd,N);bQd.prototype.Da=function(){this.Lb(O(aQd))};
bQd.prototype.Ja=function(){var a=this;N.prototype.Ja.call(this);this.C=this.Ka("waffle-dataconnector-sqleditor-textarea");this.C.value=this.J;this.F=new Ar(this.C);this.Ba(this.F);this.F.Qd(this);this.getHandler().V(this.C,"focus",function(){return cQd(a,!0)}).V(this.C,"blur",function(){return cQd(a,!1)});this.H.render(this.Ka("waffle-dataconnector-sqleditor-textareawrapper"));dQd(this);eQd(this,!1)};
function dQd(a){a.C.disabled=!a.Vd||a.D;Rh(a.$a(),"waffle-dataconnector-sqleditor-disabled",!a.Vd||a.D);MT(a.H,a.D)}bQd.prototype.Pa=function(a){this.D||a==this.Vd||(this.Vd=a,this.Qb()&&dQd(this))};bQd.prototype.isEnabled=g("Vd");function fQd(a){a.D=!0;a.Qb()&&dQd(a)}function eQd(a,b){M(a.Ka("waffle-dataconnector-sqleditor-overlay"),b)}function cQd(a,b){Rh(a.$a(),"waffle-dataconnector-sqleditor-focused",b)};function gQd(a,b,c){OOd.call(this,c);var d=this;this.H=this.J=null;this.F=new KR("Add existing script");this.Ia(this.F);this.D=new VT;this.D.setContent("Engine");hQd(this);this.D.Xe(0);this.Ia(this.D);this.C=new bQd(void 0,this.va());this.Ia(this.C);this.L=new KR;this.L.Id("waffle-dataconnector-plxqueryeditormodule-preview-button");this.Ia(this.L);this.O=new aj(function(){iQd(d,null)});this.Ba(this.O);b&&(this.F.Pa(!1),fQd(this.C),Af(b.then(function(a){var b=W(a,2),c=W(b,1);a=W(b,3);b=W(b,2);var e=
d.C;c=c||"";e.isDisposed()||(e.D=!1,e.Qb()?(e.C.value=c,dQd(e)):e.J=c);iQd(d,a);b&&d.D.eb(b);d.F.Pa(!0)},ca()),function(){d.dispatchEvent("jf")}))}q(gQd,OOd);gQd.prototype.Da=function(){this.Lb(O($Pd))};
gQd.prototype.Ja=function(){var a=this;OOd.prototype.Ja.call(this);this.C.render(this.Ka("waffle-dataconnector-plxqueryeditormodule-editor-wrapper"));this.L.render(this.Ka("waffle-dataconnector-queryeditor-sharing-message-container"));this.F.render(this.Ka("waffle-dataconnector-plxqueryeditormodule-link-script-button-wrapper"));this.D.render(this.Ka("waffle-dataconnector-plxqueryeditormodule-engine-select-wrapper"));this.getHandler().V(this.C,"input",function(){a.dispatchEvent("jf")}).V(this.F,"action",
function(){return jQd(a)}).V(this,"pf",function(){a.O.start()}).V(this.D,"aftershow",function(a){return a.stopPropagation()})};function BOd(a){var b=a.C.C.value;if(!b&&!a.J)return null;var c=new D1,d=new z1;a.J?X(d,3,a.J):(X(d,1,b),a=a.D.Ve().getValue(),X(d,2,a));X(c,2,d);return c}function hQd(a){for(var b=ia(rc(kQd)),c=b.next();!c.done;c=b.next())c=c.value,a.D.Ad(new Rk(c.caption,c.value))}
function jQd(a){var b=new TPd("Script ID");Up(b,"Add existing script");b.C.setContent("Add");a.Ba(b);b.setVisible(!0);Af(Af(b.getResult(),function(){return C(b)}).then(function(b){return iQd(a,b)},ca()),function(){(null!=a.J?a.H.$a():a.D.$a()).focus()})}
function iQd(a,b){if(!a.isDisposed()){a.J=b;var c=!!b;a.C.Pa(!c);a.D.Pa(!c);a.F.setVisible(!c);a.F.Pa(!c);C(a.H);a.H=null;if(b){a.H=new ZPd(b);a.Ia(a.H);a.H.render(a.Ka("waffle-dataconnector-plxqueryeditormodule-script-chip-wrapper"));c=new bp;var d=c.De("a",{href:ZJd(b),target:"_blank"});d=d+"Edit your existing script by viewing it in Plx"+c.Je("a");c=c.format(d);a.C.Pa(!1);d=a.C;yd(d.Ka("waffle-dataconnector-sqleditor-overlay-message"),c);eQd(d,!0)}else a.C.Pa(!0),eQd(a.C,!1);Lz(b?"Script added":
"Script removed");a.dispatchEvent("jf")}}var lQd=Object.freeze({caption:"Dremel",value:"DREMEL"}),mQd=Object.freeze({caption:"F1",value:"F1"}),nQd=Object.freeze({caption:"Procella",value:"PROCELLA"}),kQd={JXa:lQd,$Xa:mQd,P_a:nQd};function oQd(a,b,c){this.C=a;this.D=b;this.Ab=new Ud;this.F=c}function pQd(a,b,c){return new t2(b,c,pA,function(a){return qQd(b,a)},new p2(a.C,a.Ab),a.F,new FPd(b,a.D),void 0,a.Ab)}function rQd(a,b,c,d,e,f){a=new t2(b,c,qA,function(a){return sQd(d,a)},new p2(a.C,a.Ab),a.F,new FPd(b,a.D),void 0,a.Ab);zNd(a,e,f);return a}
function tQd(a,b){if(I(H(),"fenqeu"))return new UPd(b,pA,function(a){return qQd(b,a)},new p2(a.C,a.Ab),a.F,void 0,a.Ab);var c=new gQd(b,void 0,a.Ab);return new zOd(b,c,pA,function(a){return qQd(b,a)},a.C,void 0,a.Ab)}function uQd(a,b,c,d,e){if(I(H(),"fenqeu"))return a=new UPd(b,qA,function(a){return sQd(c,a)},new p2(a.C,a.Ab),a.F,void 0,a.Ab),zNd(a,d,e),a;d=new gQd(b,d,a.Ab);return new zOd(b,d,qA,function(a){return sQd(c,a)},a.C,void 0,a.Ab)}
function vQd(a,b,c){return new CPd(c,b,pA,function(a){return qQd(b,a)},new p2(a.C,a.Ab),a.F,new xLd(a.D,b),new UOd(b,a.D),void 0,a.Ab)}function wQd(a,b,c,d,e,f){a=new CPd(c,b,qA,function(a){return sQd(d,a)},new p2(a.C,a.Ab),a.F,new xLd(a.D,b),new UOd(b,a.D),void 0,a.Ab);zNd(a,e,f);return a}function qQd(a,b){var c=new I1;X(c,1,a);X(c,2,b);return c}function sQd(a,b){var c=new S1;X(c,1,a);X(c,2,b);return c};function xQd(a,b,c,d){var e="Error in query on "+c;c=new FLd;c.Id("waffle-dataconnector-error-popup");Up(c,e);c.C.setContent("Open query editor");c.J.setContent("Ok");a=10==a.getErrorCode()?uMd(d):oMd(b,a);Vp(c,a);return c};function yQd(a,b,c,d,e,f,h,k){A.call(this);this.H=new cMd;this.Ba(this.H);this.Ga=a;this.L=a.Jb;this.D=kLd.getInstance();this.La=new wOd(this.D);this.F=b;this.R=f;this.J=new oQd(h,this.D,this.R);this.C=null;this.qa=new E;this.Ba(this.qa);(this.O=I(H(),"fedcpw")?null:new iMd(this.H,a,b,e))&&this.Ba(this.O);(this.ma=I(H(),"fedcpw")?new oOd(b,c,d,a,this.H):null)&&this.Ba(this.ma);this.Ma=new Uh(this);this.Ba(this.Ma);this.Aa=new $e(this);this.Ba(this.Aa);this.Ea=new uNd;this.Ba(this.Ea);zQd(this,k);
this.Ma.V(this.qa,["show","hide"],this.Cob);this.Aa.subscribe(b8a,"action",this.rga).subscribe(rA,"action",this.Jyb).subscribe(pA,"action",this.Gnb).subscribe(k8a,"action",this.Qzb).subscribe(d8a,"action",this.Opa).subscribe(qA,"action",this.Spb).subscribe(i8a,"action",this.Vyb).subscribe(sA,"action",this.snb).subscribe(h8a,"action",this.$wb).subscribe(l8a,"action",this.Opa).subscribe(a8a,"action",this.Xwb);AQd(this)}q(yQd,A);
function zQd(a,b){var c=Qkc(),d=new Bs(Rkc.concat(["waffle-dataconnector-connection-selected"])),e=Rkc.concat(["waffle-dataconnector-active-sheet-db-connection","sheet-access-no-protected-range-for-sheet"]);c||e.push("waffle-dataconnector-active-sheet-not-plx");c=new Bs(e);b.C(pA,KP).D(pA,KP).C(qA,KP).D(qA,KP).C(i8a,KP).D(i8a,KP).C(b8a,KP).C(k8a,c).C(d8a,c).C(rA,KP).C(sA,d).C(h8a,c).C(l8a,c);b.C(e8a,c);a.Aa.Yb(e8a,Pa,function(){AQd(a)})}p=yQd.prototype;p.Jf=function(a){this.D.Jf(a)};
function u2(a,b){C(a.C);a.C=b;a.C.Qd(a.qa);b instanceof Tp?a.R.Jh(a.C):a.R.Jh(new Vnb(a.C));a.C.render();a.C.setVisible(!0)}p.rga=function(){C(this.C);this.C=null};function AQd(a){a.O&&a.O.refresh();a.ma&&a.ma.refresh()}p.Cob=function(){this.C&&this.C.isVisible()||(rA.eb(null),sA.eb(null))};
p.HOb=function(){var a=new ZLd;this.Ba(a);u2(this,a);rLd(this.D).then(function(b){var c=[];Wu(b,1).forEach(function(a){c.push(VLd((new ULd).vf(a.getId()).Ke(a.getName()).setType(W(a,3))).build())});a.isDisposed()||(aMd(a,c),$Ld(a,!1))})};p.R5a=function(){var a=this,b=BQd("Connecting to Plx...");CQd(this,"Plx",2).then(function(c){c=new RLd(c,2);a.Ba(c);u2(a,c);Yo(Xo.getInstance(),b)},function(){DQd("Could not connect to Plx");Yo(Xo.getInstance(),b)})};
p.Q5a=function(){var a=this,b=this.Ga.F;if(b.C.DisplayBigQueryWelcomeDialog.getValue()){var c=new ELd;this.Ba(c);u2(this,c);c.getResult().then(function(d){C(c);d&&(XH(b,"DisplayBigQueryWelcomeDialog",!1),EQd(a))},function(){C(c)})}else EQd(this)};p.KRb=function(){FQd(this,[],!1)};
function EQd(a){var b=BQd("Connecting to BigQuery..."),c;CQd(a,"BigQuery",3).then(function(b){c=b;return BLd(new xLd(a.D,b))}).then(function(d){Yo(Xo.getInstance(),b);GQd(a,c,d)},function(){Yo(Xo.getInstance(),b);DQd("Could not connect to BigQuery")})}function GQd(a,b,c){c=new RKd(c);var d=new iLd(c);a.Ba(d);u2(a,d);d.getResult().then(function(c){c=vQd(a.J,b,c);a.Ba(c);u2(a,c)},function(){C(d)})}function BQd(a){return Xo.getInstance().postMessage(Zo(a,"info",!0))}
function DQd(a){Xo.getInstance().postMessage(Zo(a,"error",!0))}function CQd(a,b,c){var d=new E1;d.Ke(b);X(d,2,c);return lLd(a.D,d).then(function(a){return W(a,2)})}function HQd(a,b){var c=BQd("Importing connection..."),d=new F1;d.vf(b);d.setType(1);return nLd(a.D,d).then(function(){Yo(Xo.getInstance(),c)},function(){Yo(Xo.getInstance(),c)})}p.Vyb=function(){var a=this.C,b=a.F;switch(a.C){case 2:IQd(this,b);break;case 1:JQd(this,b)}};
function JQd(a,b){var c=Xpb(a.L,b).getName();b=pQd(a.J,b,c);a.Ba(b);u2(a,b)}function IQd(a,b){b=tQd(a.J,b);a.Ba(b);u2(a,b)}p.snb=function(){var a=this,b=sA.getValue(),c=b.getId(),d=b.getType();switch(d){case 2:IQd(this,c);break;case 1:Xpb(this.L,b.getId())?JQd(this,c):HQd(this,c).then(function(){JQd(a,c)},ca());break;default:throw Error("Unsupported connection type: "+d);}};
p.Jyb=function(a){var b=this.C;b.IOa();var c=W(a,2);tOd(uOd(sOd(xOd(this.La,a),function(a){b.isDisposed()||b.EOa(a,c)}),function(a){b.isDisposed()||b.DOa(a)}),function(a){b.isDisposed()||b.COa(a)}).start()};p.Gnb=function(a){var b=this,c=this.C;mLd(this.D,a).then(function(a){KQd(b,a)},function(a){c.isDisposed()||c.Ipa(a)});c.Kpa()};
function KQd(a,b){dMd(a.H,W(b,2),b.Xj());var c=b.Ib();a.rga();NF(a.F,c)?QF(a.F.C)==c?AQd(a):SF(a.F,c):a.Ma.Uc(a.F,["Ga","va"],function(b){"Ga"==b.type&&b.Fh==c&&SF(a.F,c)})}p.Qzb=function(){FQd(this,[TH(this.F.C)],!0)};function FQd(a,b,c){var d=new sKd;b.forEach(function(a){Uu(d,1,a)});pLd(a.D,d).then(function(b){LQd(a,Wu(b,1));AQd(a)},function(b){return MQd(a,b,c)})}
function MQd(a,b,c){var d=[],e=[];Wu(b,1).forEach(function(a){return 3==a.Xj().getState()?e.push(a):d.push(a)});LQd(a,d);AQd(a);c&&(b=e[0],c=b.Xj(),c.getErrorCode(),NQd(a,b.Ib(),c))}function LQd(a,b){b.forEach(function(b){var c=NF(a.F,b.Ib());if(c=c&&c.H)c=W(c,1),b=b.Xj(),a.H.C[c]=b})}
function NQd(a,b,c){var d=NF(a.F,b),e=d&&d.H;if(e){d=d.pe();e=OQd(a,e);var f="waffle-dataconnector-ssologin-"+bc(),h=xQd(c,e,d,f);a.Ba(h);a.R.Jh(h);h.render();h.setVisible(!0);h.getResult().then(function(){C(h);a.Opa(b)},function(){C(h)});(c=Wd(f))&&h2.prototype.getHandler.call(h).V(c,"click",function(){PQd(a,b,h)})}}function PQd(a,b,c){vNd(a.Ea,function(){C(c);FQd(a,[b],!0)})}
p.Opa=function(a){if((a=void 0!==a?NF(this.F,a):this.F.C.C)&&MF(a)){var b=a.H;a=W(b,2);b=W(b,1);switch(W(Xpb(this.L,a),3)){case 2:a=uQd(this.J,a,b,QQd(this,b),RQd(this,b));this.Ba(a);u2(this,a);break;case 1:var c=Xpb(this.L,a).getName();a=rQd(this.J,a,c,b,QQd(this,b),RQd(this,b));this.Ba(a);u2(this,a);break;case 3:SQd(this,a,b)}}};
function SQd(a,b,c){var d=BQd("Connecting to BigQuery...");BLd(new xLd(a.D,b)).then(function(e){Yo(Xo.getInstance(),d);e=wQd(a.J,b,new RKd(e),c,QQd(a,c),RQd(a,c));a.Ba(e);u2(a,e)},function(){Yo(Xo.getInstance(),d);DQd("Could not connect to BigQuery")})}function QQd(a,b){var c=zf(),d=new a2;X(d,1,b);uLd(a.D,d).then(function(a){c.resolve(W(a,2))},function(a){return c.reject(a)});return c.C}
function RQd(a,b){var c=eMd(a.H,b);if(!c||3!=c.getState())return null;var d=zf();c=new c2;X(c,1,b);a.D.Xj(c).then(function(a){d.resolve(a.Xj())},function(){return d.reject()});return d.C}p.Spb=function(a){var b=this,c=W(a,1),d=this.C;qLd(this.D,a).then(function(a){a=a.Xj();b.H.C[c]=a;a=ritz_api.DbxApi.getSheetIdForQuery(c);SF(b.F,a);b.rga();AQd(b)},function(a){d.isDisposed()||d.Ipa(a)});d.Kpa()};function OQd(a,b){b=W(b,2);a=a.L.C[b];b=W(a,3);a.getName();return b}
p.$wb=function(){var a=this,b=this.F.C.C,c=W(b.H,1),d=new c2;X(d,1,c);this.D.Xj(d).then(function(c){(c=c.Xj())&&3==c.getState()&&NQd(a,b.Ib(),c)})};p.Xwb=function(){dp("https://cloud.google.com/bigquery/docs/projects")};function TQd(){A.call(this)}q(TQd,Az);TQd.prototype.C=function(){return yQd};Gz("dataconnector",TQd);
